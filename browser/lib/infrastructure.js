!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"===n||fe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(we.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){return fe.inArray(e,t)>-1!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t={};return fe.each(e.match(Se)||[],function(e,n){t[n]=!0}),t}function a(){re.addEventListener?(re.removeEventListener("DOMContentLoaded",o),e.removeEventListener("load",o)):(re.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(re.addEventListener||"load"===e.event.type||"complete"===re.readyState)&&(a(),fe.ready())}function d(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Pe,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Le.test(n)?fe.parseJSON(n):n}catch(i){}fe.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(De(e)){var i,s,a=fe.expando,o=e.nodeType,d=o?fe.cache:e,l=o?e[a]:e[a]&&a;if(l&&d[l]&&(r||d[l].data)||void 0!==n||"string"!=typeof t)return l||(l=o?e[a]=ne.pop()||fe.guid++:a),d[l]||(d[l]=o?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?d[l]=fe.extend(d[l],t):d[l].data=fe.extend(d[l].data,t)),s=d[l],r||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[fe.camelCase(t)]=n),"string"==typeof t?(i=s[t],null==i&&(i=s[fe.camelCase(t)])):i=s,i}}function h(e,t,n){if(De(e)){var r,i,s=e.nodeType,a=s?fe.cache:e,o=s?e[fe.expando]:fe.expando;if(a[o]){if(t&&(r=n?a[o]:a[o].data)){fe.isArray(t)?t=t.concat(fe.map(t,fe.camelCase)):t in r?t=[t]:(t=fe.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!fe.isEmptyObject(r))return}(n||(delete a[o].data,l(a[o])))&&(s?fe.cleanData([e],!0):he.deleteExpando||a!=a.window?delete a[o]:a[o]=void 0)}}}function u(e,t,n,r){var i,s=1,a=20,o=r?function(){return r.cur()}:function(){return fe.css(e,t,"")},d=o(),l=n&&n[3]||(fe.cssNumber[t]?"":"px"),c=(fe.cssNumber[t]||"px"!==l&&+d)&&Fe.exec(fe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+d||1;do s=s||".5",c/=s,fe.style(e,t,c+l);while(s!==(s=o()/d)&&1!==s&&--a)}return n&&(c=+c||+d||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function f(e){var t=Xe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){var n,r,i=0,s="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||fe.nodeName(r,t)?s.push(r):fe.merge(s,p(r,t));return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],s):s}function g(e,t){for(var n,r=0;null!=(n=e[r]);r++)fe._data(n,"globalEval",!t||fe._data(t[r],"globalEval"))}function _(e){Me.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,n,r,i){for(var s,a,o,d,l,c,h,u=e.length,m=f(t),v=[],y=0;u>y;y++)if(a=e[y],a||0===a)if("object"===fe.type(a))fe.merge(v,a.nodeType?[a]:a);else if(Ue.test(a)){for(d=d||m.appendChild(t.createElement("div")),l=(Be.exec(a)||["",""])[1].toLowerCase(),h=$e[l]||$e._default,d.innerHTML=h[1]+fe.htmlPrefilter(a)+h[2],s=h[0];s--;)d=d.lastChild;if(!he.leadingWhitespace&&ze.test(a)&&v.push(t.createTextNode(ze.exec(a)[0])),!he.tbody)for(a="table"!==l||Ke.test(a)?"<table>"!==h[1]||Ke.test(a)?0:d:d.firstChild,s=a&&a.childNodes.length;s--;)fe.nodeName(c=a.childNodes[s],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(fe.merge(v,d.childNodes),d.textContent="";d.firstChild;)d.removeChild(d.firstChild);d=m.lastChild}else v.push(t.createTextNode(a));for(d&&m.removeChild(d),he.appendChecked||fe.grep(p(v,"input"),_),y=0;a=v[y++];)if(r&&fe.inArray(a,r)>-1)i&&i.push(a);else if(o=fe.contains(a.ownerDocument,a),d=p(m.appendChild(a),"script"),o&&g(d),n)for(s=0;a=d[s++];)We.test(a.type||"")&&n.push(a);return d=null,m}function v(){return!0}function y(){return!1}function b(){try{return re.activeElement}catch(e){}}function x(e,t,n,r,i,s){var a,o;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(o in t)x(e,o,n,r,t[o],s);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=y;else if(!i)return e;return 1===s&&(a=i,i=function(e){return fe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,i,r,n)})}function j(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function k(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){if(1===t.nodeType&&fe.hasData(e)){var n,r,i,s=fe._data(e),a=fe._data(t,s),o=s.events;if(o){delete a.handle,a.events={};for(n in o)for(r=0,i=o[n].length;i>r;r++)fe.event.add(t,n,o[n][r])}a.data&&(a.data=fe.extend({},a.data))}}function T(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!he.noCloneEvent&&t[fe.expando]){i=fe._data(t);for(r in i.events)fe.removeEvent(t,r,i.handle);t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(w(t).text=e.text,k(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),he.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Me.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(e,t,n,r){t=se.apply([],t);var i,s,a,o,d,l,c=0,h=e.length,u=h-1,f=t[0],g=fe.isFunction(f);if(g||h>1&&"string"==typeof f&&!he.checkClone&&rt.test(f))return e.each(function(i){var s=e.eq(i);g&&(t[0]=f.call(this,i,s.html())),N(s,t,n,r)});if(h&&(l=m(t,e[0].ownerDocument,!1,e,r),i=l.firstChild,1===l.childNodes.length&&(l=i),i||r)){for(o=fe.map(p(l,"script"),w),a=o.length;h>c;c++)s=l,c!==u&&(s=fe.clone(s,!0,!0),a&&fe.merge(o,p(s,"script"))),n.call(e[c],s,c);if(a)for(d=o[o.length-1].ownerDocument,fe.map(o,k),c=0;a>c;c++)s=o[c],We.test(s.type||"")&&!fe._data(s,"globalEval")&&fe.contains(d,s)&&(s.src?fe._evalUrl&&fe._evalUrl(s.src):fe.globalEval((s.text||s.textContent||s.innerHTML||"").replace(st,"")));l=i=null}return e}function E(e,t,n){for(var r,i=t?fe.filter(t,e):e,s=0;null!=(r=i[s]);s++)n||1!==r.nodeType||fe.cleanData(p(r)),r.parentNode&&(n&&fe.contains(r.ownerDocument,r)&&g(p(r,"script")),r.parentNode.removeChild(r));return e}function S(e,t){var n=fe(t.createElement(e)).appendTo(t.body),r=fe.css(n[0],"display");return n.detach(),r}function A(e){var t=re,n=lt[e];return n||(n=S(e,t),"none"!==n&&n||(dt=(dt||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(dt[0].contentWindow||dt[0].contentDocument).document,t.write(),t.close(),n=S(e,t),dt.detach()),lt[e]=n),n}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function D(e){if(e in kt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=wt.length;n--;)if(e=wt[n]+t,e in kt)return e}function L(e,t){for(var n,r,i,s=[],a=0,o=e.length;o>a;a++)r=e[a],r.style&&(s[a]=fe._data(r,"olddisplay"),n=r.style.display,t?(s[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Re(r)&&(s[a]=fe._data(r,"olddisplay",A(r.nodeName)))):(i=Re(r),(n&&"none"!==n||!i)&&fe._data(r,"olddisplay",i?n:fe.css(r,"display"))));for(a=0;o>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[a]||"":"none"));return e}function P(e,t,n){var r=bt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function H(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=fe.css(e,n+qe[s],!0,i)),r?("content"===n&&(a-=fe.css(e,"padding"+qe[s],!0,i)),"margin"!==n&&(a-=fe.css(e,"border"+qe[s]+"Width",!0,i))):(a+=fe.css(e,"padding"+qe[s],!0,i),"padding"!==n&&(a+=fe.css(e,"border"+qe[s]+"Width",!0,i)));return a}function F(t,n,r){var i=!0,s="width"===n?t.offsetWidth:t.offsetHeight,a=pt(t),o=he.boxSizing&&"border-box"===fe.css(t,"boxSizing",!1,a);if(re.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(s=Math.round(100*t.getBoundingClientRect()[n])),0>=s||null==s){if(s=gt(t,n,a),(0>s||null==s)&&(s=t.style[n]),ht.test(s))return s;i=o&&(he.boxSizingReliable()||s===t.style[n]),s=parseFloat(s)||0}return s+H(t,n,r||(o?"border":"content"),i,a)+"px"}function q(e,t,n,r,i){return new q.prototype.init(e,t,n,r,i)}function R(){return e.setTimeout(function(){Ct=void 0}),Ct=fe.now()}function I(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=qe[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(z.tweeners[t]||[]).concat(z.tweeners["*"]),s=0,a=i.length;a>s;s++)if(r=i[s].call(n,t,e))return r}function B(e,t,n){var r,i,s,a,o,d,l,c,h=this,u={},f=e.style,p=e.nodeType&&Re(e),g=fe._data(e,"fxshow");n.queue||(o=fe._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,d=o.empty.fire,o.empty.fire=function(){o.unqueued||d()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,fe.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=fe.css(e,"display"),c="none"===l?fe._data(e,"olddisplay")||A(e.nodeName):l,"inline"===c&&"none"===fe.css(e,"float")&&(he.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",he.shrinkWrapBlocks()||h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Nt.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}u[r]=g&&g[r]||fe.style(e,r)}else l=void 0;if(fe.isEmptyObject(u))"inline"===("none"===l?A(e.nodeName):l)&&(f.display=l);else{g?"hidden"in g&&(p=g.hidden):g=fe._data(e,"fxshow",{}),s&&(g.hidden=!p),p?fe(e).show():h.done(function(){fe(e).hide()}),h.done(function(){var t;fe._removeData(e,"fxshow");for(t in u)fe.style(e,t,u[t])});for(r in u)a=M(p?g[r]:0,r,h),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function W(e,t){var n,r,i,s,a;for(n in e)if(r=fe.camelCase(n),i=t[r],s=e[n],fe.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),a=fe.cssHooks[r],a&&"expand"in a){s=a.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function z(e,t,n){var r,i,s=0,a=z.prefilters.length,o=fe.Deferred().always(function(){delete d.elem}),d=function(){if(i)return!1;for(var t=Ct||R(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,s=1-r,a=0,d=l.tweens.length;d>a;a++)l.tweens[a].run(s);return o.notifyWith(e,[l,s,n]),1>s&&d?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:Ct||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=fe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?(o.notifyWith(e,[l,1,0]),o.resolveWith(e,[l,t])):o.rejectWith(e,[l,t]),this}}),c=l.props;for(W(c,l.opts.specialEasing);a>s;s++)if(r=z.prefilters[s].call(l,e,c,l.opts))return fe.isFunction(r.stop)&&(fe._queueHooks(l.elem,l.opts.queue).stop=fe.proxy(r.stop,r)),r;return fe.map(c,M,l),fe.isFunction(l.opts.start)&&l.opts.start.call(e,l),fe.fx.timer(fe.extend(d,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function X(e){return fe.attr(e,"class")||""}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(Se)||[];if(fe.isFunction(n))for(;r=s[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function i(o){var d;return s[o]=!0,fe.each(e[o]||[],function(e,o){var l=o(t,n,r);return"string"!=typeof l||a||s[l]?a?!(d=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),d}var s={},a=e===Zt;return i(t.dataTypes[0])||!s["*"]&&i("*")}function K(e,t){var n,r,i=fe.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&fe.extend(!0,e,n),e}function J(e,t,n){for(var r,i,s,a,o=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in o)if(o[a]&&o[a].test(i)){d.unshift(a);break}if(d[0]in n)s=d[0];else{for(a in n){if(!d[0]||e.converters[a+" "+d[0]]){s=a;break}r||(r=a)}s=s||r}return s?(s!==d[0]&&d.unshift(s),n[s]):void 0}function Y(e,t,n,r){var i,s,a,o,d,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(s=c.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!d&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=s,s=c.shift())if("*"===s)s=d;else if("*"!==d&&d!==s){if(a=l[d+" "+s]||l["* "+s],!a)for(i in l)if(o=i.split(" "),o[1]===s&&(a=l[d+" "+o[0]]||l["* "+o[0]])){a===!0?a=l[i]:l[i]!==!0&&(s=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+d+" to "+s}}}return{state:"success",data:t}}function V(e){return e.style&&e.style.display||fe.css(e,"display")}function Q(e){for(;e&&1===e.nodeType;){if("none"===V(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Z(e,t,n,r){var i;if(fe.isArray(t))fe.each(t,function(t,i){n||rn.test(e)?r(e,i):Z(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==fe.type(t))r(e,t);else for(i in t)Z(e+"["+i+"]",t[i],n,r)}function G(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return fe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var ne=[],re=e.document,ie=ne.slice,se=ne.concat,ae=ne.push,oe=ne.indexOf,de={},le=de.toString,ce=de.hasOwnProperty,he={},ue="1.12.2",fe=function(e,t){return new fe.fn.init(e,t)},pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,_e=/-([\da-z])/gi,me=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:ue,constructor:fe,selector:"",length:0,toArray:function(){return ie.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:ie.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},fe.extend=fe.fn.extend=function(){var e,t,n,r,i,s,a=arguments[0]||{},o=1,d=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[o]||{},o++),"object"==typeof a||fe.isFunction(a)||(a={}),o===d&&(a=this,o--);d>o;o++)if(null!=(i=arguments[o]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(fe.isPlainObject(n)||(t=fe.isArray(n)))?(t?(t=!1,s=e&&fe.isArray(e)?e:[]):s=e&&fe.isPlainObject(e)?e:{},a[r]=fe.extend(l,s,n)):void 0!==n&&(a[r]=n));return a},fe.extend({expando:"jQuery"+(ue+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!he.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return void 0===t||ce.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?de[le.call(e)]||"object":typeof e},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ge,"ms-").replace(_e,me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;r>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?fe.merge(r,"string"==typeof e?[e]:e):ae.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(oe)return oe.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,a=e.length,o=!n;a>s;s++)r=!t(e[s],s),r!==o&&i.push(e[s]);return i},map:function(e,t,r){var i,s,a=0,o=[];if(n(e))for(i=e.length;i>a;a++)s=t(e[a],a,r),null!=s&&o.push(s);else for(a in e)s=t(e[a],a,r),null!=s&&o.push(s);return se.apply([],o)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),fe.isFunction(e)?(n=ie.call(arguments,2),r=function(){return e.apply(t||this,n.concat(ie.call(arguments)))},r.guid=e.guid=e.guid||fe.guid++,r):void 0},now:function(){return+new Date},support:he}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=ne[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var ve=function(e){function t(e,t,n,r){var i,s,a,o,d,l,h,f,p=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:M)!==D&&O(t),t=t||D,P)){if(11!==g&&(l=me.exec(e)))if(i=l[1]){if(9===g){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&R(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(x.qsa&&!$[e+" "]&&(!H||!H.test(e))){if(1!==g)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((o=t.getAttribute("id"))?o=o.replace(ye,"\\$&"):t.setAttribute("id",o=I),h=C(e),s=h.length,d=ue.test(o)?"#"+o:"[id='"+o+"']";s--;)h[s]=d+" "+u(h[s]);f=h.join(","),p=ve.test(e)&&c(t.parentNode)||t}if(f)try{return Z.apply(n,p.querySelectorAll(f)),n}catch(_){}finally{o===I&&t.removeAttribute("id")}}}return N(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>j.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[I]=!0,e}function i(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=n.length;r--;)j.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function d(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,s=e([],n.length,t),a=s.length;a--;)n[i=s[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function u(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=W++;return t.first?function(t,n,s){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,a){var o,d,l,c=[B,s];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[I]||(t[I]={}),d=l[t.uniqueID]||(l[t.uniqueID]={}),(o=d[r])&&o[0]===B&&o[1]===s)return c[2]=o[2];if(d[r]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,s=n.length;s>i;i++)t(e,n[i],r);return r}function _(e,t,n,r,i){for(var s,a=[],o=0,d=e.length,l=null!=t;d>o;o++)(s=e[o])&&(n&&!n(s,r,i)||(a.push(s),l&&t.push(o)));return a}function m(e,t,n,i,s,a){return i&&!i[I]&&(i=m(i)),s&&!s[I]&&(s=m(s,a)),r(function(r,a,o,d){var l,c,h,u=[],f=[],p=a.length,m=r||g(t||"*",o.nodeType?[o]:o,[]),v=!e||!r&&t?m:_(m,u,e,o,d),y=n?s||(r?e:p||i)?[]:a:v;if(n&&n(v,y,o,d),i)for(l=_(y,f),i(l,[],o,d),c=l.length;c--;)(h=l[c])&&(y[f[c]]=!(v[f[c]]=h));if(r){if(s||e){if(s){for(l=[],c=y.length;c--;)(h=y[c])&&l.push(v[c]=h);s(null,y=[],l,d)}for(c=y.length;c--;)(h=y[c])&&(l=s?ee(r,h):u[c])>-1&&(r[l]=!(a[l]=h))}}else y=_(y===a?y.splice(p,y.length):y),s?s(null,a,y,d):Z.apply(a,y)})}function v(e){for(var t,n,r,i=e.length,s=j.relative[e[0].type],a=s||j.relative[" "],o=s?1:0,d=f(function(e){return e===t},a,!0),l=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!s&&(r||n!==E)||((t=n).nodeType?d(e,n,r):l(e,n,r));return t=null,i}];i>o;o++)if(n=j.relative[e[o].type])c=[f(p(c),n)];else{if(n=j.filter[e[o].type].apply(null,e[o].matches),n[I]){for(r=++o;i>r&&!j.relative[e[r].type];r++);return m(o>1&&p(c),o>1&&u(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(oe,"$1"),n,r>o&&v(e.slice(o,r)),i>r&&v(e=e.slice(r)),i>r&&u(e))}c.push(n)}return p(c)}function y(e,n){var i=n.length>0,s=e.length>0,a=function(r,a,o,d,l){var c,h,u,f=0,p="0",g=r&&[],m=[],v=E,y=r||s&&j.find.TAG("*",l),b=B+=null==v?1:Math.random()||.1,x=y.length;for(l&&(E=a===D||a||l);p!==x&&null!=(c=y[p]);p++){if(s&&c){for(h=0,a||c.ownerDocument===D||(O(c),o=!P);u=e[h++];)if(u(c,a||D,o)){d.push(c);break}l&&(B=b)}i&&((c=!u&&c)&&f--,r&&g.push(c))}if(f+=p,i&&p!==f){for(h=0;u=n[h++];)u(g,m,a,o);if(r){if(f>0)for(;p--;)g[p]||m[p]||(m[p]=V.call(d));m=_(m)}Z.apply(d,m),l&&!r&&m.length>0&&f+n.length>1&&t.uniqueSort(d)}return l&&(B=b,E=v),g};return i?r(a):a}var b,x,j,w,k,C,T,N,E,S,A,O,D,L,P,H,F,q,R,I="sizzle"+1*new Date,M=e.document,B=0,W=0,z=n(),X=n(),$=n(),U=function(e,t){return e===t&&(A=!0),0},K=1<<31,J={}.hasOwnProperty,Y=[],V=Y.pop,Q=Y.push,Z=Y.push,G=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),oe=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),de=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(se),ue=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},je=function(){O()};try{Z.apply(Y=G.call(M.childNodes),M.childNodes),Y[M.childNodes.length].nodeType}catch(we){Z={apply:Y.length?function(e,t){Q.apply(e,G.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:M;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,L=D.documentElement,P=!k(D),(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",je,!1):n.attachEvent&&n.attachEvent("onunload",je)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=_e.test(D.getElementsByClassName),x.getById=i(function(e){return L.appendChild(e).id=I,!D.getElementsByName||!D.getElementsByName(I).length}),x.getById?(j.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}},j.filter.ID=function(e){var t=e.replace(be,xe);return function(e){return e.getAttribute("id")===t}}):(delete j.find.ID,j.filter.ID=function(e){var t=e.replace(be,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),j.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},j.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&P?t.getElementsByClassName(e):void 0},F=[],H=[],(x.qsa=_e.test(D.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+I+"-]").length||H.push("~="),e.querySelectorAll(":checked").length||H.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||H.push(".#.+[+~]")}),i(function(e){var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(x.matchesSelector=_e.test(q=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){x.disconnectedMatch=q.call(e,"div"),q.call(e,"[s!='']:x"),F.push("!=",se)}),H=H.length&&new RegExp(H.join("|")),F=F.length&&new RegExp(F.join("|")),t=_e.test(L.compareDocumentPosition),R=t||_e.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===D||e.ownerDocument===M&&R(M,e)?-1:t===D||t.ownerDocument===M&&R(M,t)?1:S?ee(S,e)-ee(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,o=[e],d=[t];if(!i||!s)return e===D?-1:t===D?1:i?-1:s?1:S?ee(S,e)-ee(S,t):0;if(i===s)return a(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)d.unshift(n);for(;o[r]===d[r];)r++;return r?a(o[r],d[r]):o[r]===M?-1:d[r]===M?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==D&&O(e),n=n.replace(ce,"='$1']"),x.matchesSelector&&P&&!$[n+" "]&&(!F||!F.test(n))&&(!H||!H.test(n)))try{var r=q.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==D&&O(e),R(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==D&&O(e);var n=j.attrHandle[t.toLowerCase()],r=n&&J.call(j.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:x.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!x.detectDuplicates,S=!x.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},j=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(be,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var s=t.attr(i,e);return null==s?"!="===n:n?(s+="","="===n?s===r:"!="===n?s!==r:"^="===n?r&&0===s.indexOf(r):"*="===n?r&&s.indexOf(r)>-1:"$="===n?r&&s.slice(-r.length)===r:"~="===n?(" "+s.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?s===r||s.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,d){var l,c,h,u,f,p,g=s!==a?"nextSibling":"previousSibling",_=t.parentNode,m=o&&t.nodeName.toLowerCase(),v=!d&&!o,y=!1;if(_){if(s){for(;g;){for(u=t;u=u[g];)if(o?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?_.firstChild:_.lastChild],a&&v){for(u=_,h=u[I]||(u[I]={}),
c=h[u.uniqueID]||(h[u.uniqueID]={}),l=c[e]||[],f=l[0]===B&&l[1],y=f&&l[2],u=f&&_.childNodes[f];u=++f&&u&&u[g]||(y=f=0)||p.pop();)if(1===u.nodeType&&++y&&u===t){c[e]=[B,f,y];break}}else if(v&&(u=t,h=u[I]||(u[I]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),l=c[e]||[],f=l[0]===B&&l[1],y=f),y===!1)for(;(u=++f&&u&&u[g]||(y=f=0)||p.pop())&&((o?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++y||(v&&(h=u[I]||(u[I]={}),c=h[u.uniqueID]||(h[u.uniqueID]={}),c[e]=[B,y]),u!==t)););return y-=i,y===r||y%r===0&&y/r>=0}}},PSEUDO:function(e,n){var i,s=j.pseudos[e]||j.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[I]?s(n):s.length>1?(i=[e,e,"",n],j.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=s(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return s(e,0,i)}):s}},pseudos:{not:r(function(e){var t=[],n=[],i=T(e.replace(oe,"$1"));return i[I]?r(function(e,t,n,r){for(var s,a=i(e,null,r,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(be,xe),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,xe).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!j.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},j.pseudos.nth=j.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})j.pseudos[b]=o(b);for(b in{submit:!0,reset:!0})j.pseudos[b]=d(b);return h.prototype=j.filters=j.pseudos,j.setFilters=new h,C=t.tokenize=function(e,n){var r,i,s,a,o,d,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(o=e,d=[],l=j.preFilter;o;){r&&!(i=de.exec(o))||(i&&(o=o.slice(i[0].length)||o),d.push(s=[])),r=!1,(i=le.exec(o))&&(r=i.shift(),s.push({value:r,type:i[0].replace(oe," ")}),o=o.slice(r.length));for(a in j.filter)!(i=fe[a].exec(o))||l[a]&&!(i=l[a](i))||(r=i.shift(),s.push({value:r,type:a,matches:i}),o=o.slice(r.length));if(!r)break}return n?o.length:o?t.error(e):X(e,d).slice(0)},T=t.compile=function(e,t){var n,r=[],i=[],s=$[e+" "];if(!s){for(t||(t=C(e)),n=t.length;n--;)s=v(t[n]),s[I]?r.push(s):i.push(s);s=$(e,y(i,r)),s.selector=e}return s},N=t.select=function(e,t,n,r){var i,s,a,o,d,l="function"==typeof e&&e,h=!r&&C(e=l.selector||e);if(n=n||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&x.getById&&9===t.nodeType&&P&&j.relative[s[1].type]){if(t=(j.find.ID(a.matches[0].replace(be,xe),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(i=fe.needsContext.test(e)?0:s.length;i--&&(a=s[i],!j.relative[o=a.type]);)if((d=j.find[o])&&(r=d(a.matches[0].replace(be,xe),ve.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(i,1),e=r.length&&u(s),!e)return Z.apply(n,r),n;break}}return(l||T(e,h))(r,t,!P,n,!t||ve.test(e)&&c(t.parentNode)||t),n},x.sortStable=I.split("").sort(U).join("")===I,x.detectDuplicates=!!A,O(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||s(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);fe.find=ve,fe.expr=ve.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=ve.uniqueSort,fe.text=ve.getText,fe.isXMLDoc=ve.isXML,fe.contains=ve.contains;var ye=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&fe(e).is(n))break;r.push(e)}return r},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=fe.expr.match.needsContext,je=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,we=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?fe.find.matchesSelector(r,e)?[r]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;i>t;t++)if(fe.contains(r[t],this))return!0}));for(t=0;i>t;t++)fe.find(e,r[t],n);return n=this.pushStack(i>1?fe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&xe.test(e)?fe(e):e||[],!1).length}});var ke,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Te=fe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ke,"string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ce.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),je.test(r[1])&&fe.isPlainObject(t))for(r in t)fe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(i=re.getElementById(r[2]),i&&i.parentNode){if(i.id!==r[2])return ke.find(e);this.length=1,this[0]=i}return this.context=re,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(fe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))};Te.prototype=fe.fn,ke=fe(re);var Ne=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(fe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,s=[],a=xe.test(e)||"string"!=typeof e?fe(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?fe.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,n){return ye(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,n){return ye(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,r){var i=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=fe.filter(r,i)),this.length>1&&(Ee[e]||(i=fe.uniqueSort(i)),Ne.test(e)&&(i=i.reverse())),this.pushStack(i)}});var Se=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?s(e):fe.extend({},e);var t,n,r,i,a=[],o=[],d=-1,l=function(){for(i=e.once,r=t=!0;o.length;d=-1)for(n=o.shift();++d<a.length;)a[d].apply(n[0],n[1])===!1&&e.stopOnFalse&&(d=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(d=a.length-1,o.push(n)),function r(t){fe.each(t,function(t,n){fe.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==fe.type(n)&&r(n)})}(arguments),n&&!t&&l()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,a,n))>-1;)a.splice(n,1),d>=n&&d--}),this},has:function(e){return e?fe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return fe.Deferred(function(n){fe.each(t,function(t,s){var a=fe.isFunction(e[t])&&e[t];i[s[1]](function(){var e=a&&a.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[s[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,r):r}},i={};return r.pipe=r.then,fe.each(t,function(e,s){var a=s[2],o=s[3];r[s[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,s=ie.call(arguments),a=s.length,o=1!==a||e&&fe.isFunction(e.promise)?a:0,d=1===o?e:fe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?ie.call(arguments):i,r===t?d.notifyWith(n,r):--o||d.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)s[i]&&fe.isFunction(s[i].promise)?s[i].promise().progress(l(i,n,t)).done(l(i,r,s)).fail(d.reject):--o;return o||d.resolveWith(r,s),d.promise()}});var Ae;fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(e===!0?--fe.readyWait:fe.isReady)||(fe.isReady=!0,e!==!0&&--fe.readyWait>0||(Ae.resolveWith(re,[fe]),fe.fn.triggerHandler&&(fe(re).triggerHandler("ready"),fe(re).off("ready"))))}}),fe.ready.promise=function(t){if(!Ae)if(Ae=fe.Deferred(),"complete"===re.readyState||"loading"!==re.readyState&&!re.documentElement.doScroll)e.setTimeout(fe.ready);else if(re.addEventListener)re.addEventListener("DOMContentLoaded",o),e.addEventListener("load",o);else{re.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var n=!1;try{n=null==e.frameElement&&re.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!fe.isReady){try{n.doScroll("left")}catch(t){return e.setTimeout(i,50)}a(),fe.ready()}}()}return Ae.promise(t)},fe.ready.promise();var Oe;for(Oe in fe(he))break;he.ownFirst="0"===Oe,he.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,r;n=re.getElementsByTagName("body")[0],n&&n.style&&(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",he.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=re.createElement("div");he.deleteExpando=!0;try{delete e.test}catch(t){he.deleteExpando=!1}e=null}();var De=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t},Le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pe=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return h(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return h(e,t,!0)}}),fe.fn.extend({data:function(e,t){var n,r,i,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(i=fe.data(s),1===s.nodeType&&!fe._data(s,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=fe.camelCase(r.slice(5)),d(s,r,i[r])));fe._data(s,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){fe.data(this,e,t)}):s?d(s,e,fe.data(s,e)):void 0},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=fe._data(e,t),n&&(!r||fe.isArray(n)?r=fe._data(e,t,fe.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),r=n.length,i=n.shift(),s=fe._queueHooks(e,t),a=function(){fe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,a,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=fe.Deferred(),s=this,a=this.length,o=function(){--r||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=fe._data(s[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(o));return o(),i.promise(t)}}),function(){var e;he.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=re.getElementsByTagName("body")[0],n&&n.style?(t=re.createElement("div"),r=re.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(re.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fe=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Re=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Ie=function(e,t,n,r,i,s,a){var o=0,d=e.length,l=null==n;if("object"===fe.type(n)){i=!0;for(o in n)Ie(e,t,o,n[o],!0,s,a)}else if(void 0!==r&&(i=!0,fe.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(fe(e),n)})),t))for(;d>o;o++)t(e[o],n,a?r:r.call(e[o],o,t(e[o],n)));return i?e:l?t.call(e):d?t(e[0],n):s},Me=/^(?:checkbox|radio)$/i,Be=/<([\w:-]+)/,We=/^$|\/(?:java|ecma)script/i,ze=/^\s+/,Xe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=re.createElement("div"),t=re.createDocumentFragment(),n=re.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",he.leadingWhitespace=3===e.firstChild.nodeType,he.tbody=!e.getElementsByTagName("tbody").length,he.htmlSerialize=!!e.getElementsByTagName("link").length,he.html5Clone="<:nav></:nav>"!==re.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),he.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=re.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),he.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,he.noCloneEvent=!!e.addEventListener,e[fe.expando]=1,he.attributes=!e.getAttribute(fe.expando)}();var $e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:he.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};$e.optgroup=$e.option,$e.tbody=$e.tfoot=$e.colgroup=$e.caption=$e.thead,$e.th=$e.td;var Ue=/<|&#?\w+;/,Ke=/<tbody/i;!function(){var t,n,r=re.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(he[t]=n in e)||(r.setAttribute(n,"t"),he[t]=r.attributes[n].expando===!1);r=null}();var Je=/^(?:input|select|textarea)$/i,Ye=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^(?:focusinfocus|focusoutblur)$/,Ze=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,r,i){var s,a,o,d,l,c,h,u,f,p,g,_=fe._data(e);if(_){for(n.handler&&(d=n,n=d.handler,i=d.selector),n.guid||(n.guid=fe.guid++),(a=_.events)||(a=_.events={}),(c=_.handle)||(c=_.handle=function(e){return"undefined"==typeof fe||e&&fe.event.triggered===e.type?void 0:fe.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(Se)||[""],o=t.length;o--;)s=Ze.exec(t[o])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(l=fe.event.special[f]||{},f=(i?l.delegateType:l.bindType)||f,l=fe.event.special[f]||{},h=fe.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&fe.expr.match.needsContext.test(i),namespace:p.join(".")},d),(u=a[f])||(u=a[f]=[],u.delegateCount=0,l.setup&&l.setup.call(e,r,p,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),l.add&&(l.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,h):u.push(h),fe.event.global[f]=!0);e=null}},remove:function(e,t,n,r,i){var s,a,o,d,l,c,h,u,f,p,g,_=fe.hasData(e)&&fe._data(e);if(_&&(c=_.events)){for(t=(t||"").match(Se)||[""],l=t.length;l--;)if(o=Ze.exec(t[l])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f){for(h=fe.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,u=c[f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),d=s=u.length;s--;)a=u[s],!i&&g!==a.origType||n&&n.guid!==a.guid||o&&!o.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(u.splice(s,1),a.selector&&u.delegateCount--,h.remove&&h.remove.call(e,a));d&&!u.length&&(h.teardown&&h.teardown.call(e,p,_.handle)!==!1||fe.removeEvent(e,f,_.handle),delete c[f])}else for(f in c)fe.event.remove(e,f+t[l],n,r,!0);fe.isEmptyObject(c)&&(delete _.handle,fe._removeData(e,"events"))}},trigger:function(t,n,r,i){var s,a,o,d,l,c,h,u=[r||re],f=ce.call(t,"type")?t.type:t,p=ce.call(t,"namespace")?t.namespace.split("."):[];if(o=c=r=r||re,3!==r.nodeType&&8!==r.nodeType&&!Qe.test(f+fe.event.triggered)&&(f.indexOf(".")>-1&&(p=f.split("."),f=p.shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[fe.expando]?t:new fe.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:fe.makeArray(n,[t]),l=fe.event.special[f]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!fe.isWindow(r)){for(d=l.delegateType||f,Qe.test(d+f)||(o=o.parentNode);o;o=o.parentNode)u.push(o),c=o;c===(r.ownerDocument||re)&&u.push(c.defaultView||c.parentWindow||e)}for(h=0;(o=u[h++])&&!t.isPropagationStopped();)t.type=h>1?d:l.bindType||f,s=(fe._data(o,"events")||{})[t.type]&&fe._data(o,"handle"),s&&s.apply(o,n),s=a&&o[a],s&&s.apply&&De(o)&&(t.result=s.apply(o,n),t.result===!1&&t.preventDefault());if(t.type=f,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(u.pop(),n)===!1)&&De(r)&&a&&r[f]&&!fe.isWindow(r)){c=r[a],c&&(r[a]=null),fe.event.triggered=f;try{r[f]()}catch(g){}fe.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,r,i,s,a=[],o=ie.call(arguments),d=(fe._data(this,"events")||{})[e.type]||[],l=fe.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=fe.event.handlers.call(this,e,d),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(s=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(s.namespace)||(e.handleObj=s,e.data=s.data,r=((fe.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,o),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,a=[],o=t.delegateCount,d=e.target;if(o&&d.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;d!=this;d=d.parentNode||this)if(1===d.nodeType&&(d.disabled!==!0||"click"!==e.type)){for(r=[],n=0;o>n;n++)s=t[n],i=s.selector+" ",void 0===r[i]&&(r[i]=s.needsContext?fe(i,this).index(d)>-1:fe.find(i,this,null,[d]).length),r[i]&&r.push(s);r.length&&a.push({elem:d,handlers:r})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},fix:function(e){if(e[fe.expando])return e;var t,n,r,i=e.type,s=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ve.test(i)?this.mouseHooks:Ye.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new fe.Event(s),t=r.length;t--;)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||re),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||re,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===b()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=re.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},fe.Event=function(e,t){return this instanceof fe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?v:y):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),void(this[fe.expando]=!0)):new fe.Event(e,t)},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return i&&(i===r||fe.contains(r,i))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),he.submit||(fe.event.special.submit={setup:function(){return fe.nodeName(this,"form")?!1:void fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):void 0;n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){return fe.nodeName(this,"form")?!1:void fe.event.remove(this,"._submit")}}),he.change||(fe.event.special.change={setup:function(){return Je.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1):void fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Je.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return fe.event.remove(this,"._change"),!Je.test(this.nodeName)}}),he.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=fe._data(r,t);i||r.addEventListener(e,n,!0),fe._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=fe._data(r,t)-1;i?fe._data(r,t,i):(r.removeEventListener(e,n,!0),fe._removeData(r,t))}}}),fe.fn.extend({on:function(e,t,n,r){return x(this,e,t,n,r)},one:function(e,t,n,r){return x(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,fe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=y),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?fe.event.trigger(e,t,n,!0):void 0}});var Ge=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+Xe+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=f(re),ot=at.appendChild(re.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var r,i,s,a,o,d=fe.contains(e.ownerDocument,e);if(he.html5Clone||fe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(ot.innerHTML=e.outerHTML,ot.removeChild(s=ot.firstChild)),!(he.noCloneEvent&&he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(r=p(s),o=p(e),a=0;null!=(i=o[a]);++a)r[a]&&T(i,r[a]);if(t)if(n)for(o=o||p(e),r=r||p(s),a=0;null!=(i=o[a]);a++)C(i,r[a]);else C(e,s);return r=p(s,"script"),r.length>0&&g(r,!d&&p(e,"script")),r=o=i=null,s},cleanData:function(e,t){for(var n,r,i,s,a=0,o=fe.expando,d=fe.cache,l=he.attributes,c=fe.event.special;null!=(n=e[a]);a++)if((t||De(n))&&(i=n[o],s=i&&d[i])){if(s.events)for(r in s.events)c[r]?fe.event.remove(n,r):fe.removeEvent(n,r,s.handle);d[i]&&(delete d[i],l||"undefined"==typeof n.removeAttribute?n[o]=void 0:n.removeAttribute(o),ne.push(i))}}}),fe.fn.extend({domManip:N,detach:function(e){return E(this,e,!0)},remove:function(e){return E(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||re).createTextNode(e))},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.appendChild(e)}})},prepend:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(p(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ge,""):void 0;if("string"==typeof e&&!nt.test(e)&&(he.htmlSerialize||!et.test(e))&&(he.leadingWhitespace||!ze.test(e))&&!$e[(Be.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(fe.cleanData(p(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];
return N(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(p(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,r=0,i=[],s=fe(e),a=s.length-1;a>=r;r++)n=r===a?this:this.clone(!0),fe(s[r])[t](n),ae.apply(i,n.get());return this.pushStack(i)}});var dt,lt={HTML:"block",BODY:"block"},ct=/^margin/,ht=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ut=function(e,t,n,r){var i,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=a[s];return i},ft=re.documentElement;!function(){function t(){var t,c,h=re.documentElement;h.appendChild(d),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=o=!1,r=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(l),n="1%"!==(c||{}).top,o="2px"===(c||{}).marginLeft,i="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,t=l.appendChild(re.createElement("div")),t.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",s=0===l.getClientRects().length,s&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=l.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===t[0].offsetHeight,s&&(t[0].style.display="",t[1].style.display="none",s=0===t[0].offsetHeight)),h.removeChild(d)}var n,r,i,s,a,o,d=re.createElement("div"),l=re.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",he.opacity="0.5"===l.style.opacity,he.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===l.style.backgroundClip,d=re.createElement("div"),d.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",d.appendChild(l),he.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,fe.extend(he,{reliableHiddenOffsets:function(){return null==n&&t(),s},boxSizingReliable:function(){return null==n&&t(),i},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),o}}))}();var pt,gt,_t=/^(top|right|bottom|left)$/;e.getComputedStyle?(pt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},gt=function(e,t,n){var r,i,s,a,o=e.style;return n=n||pt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),n&&!he.pixelMarginRight()&&ht.test(a)&&ct.test(t)&&(r=o.width,i=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=r,o.minWidth=i,o.maxWidth=s),void 0===a?a:a+""}):ft.currentStyle&&(pt=function(e){return e.currentStyle},gt=function(e,t,n){var r,i,s,a,o=e.style;return n=n||pt(e),a=n?n[t]:void 0,null==a&&o&&o[t]&&(a=o[t]),ht.test(a)&&!_t.test(t)&&(r=o.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),o.left="fontSize"===t?"1em":a,a=o.pixelLeft+"px",o.left=r,s&&(i.left=s)),void 0===a?a:a+""||"auto"});var mt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,yt=/^(none|table(?!-c[ea]).+)/,bt=new RegExp("^("+He+")(.*)$","i"),xt={position:"absolute",visibility:"hidden",display:"block"},jt={letterSpacing:"0",fontWeight:"400"},wt=["Webkit","O","Moz","ms"],kt=re.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=gt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":he.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,a,o=fe.camelCase(t),d=e.style;if(t=fe.cssProps[o]||(fe.cssProps[o]=D(o)||o),a=fe.cssHooks[t]||fe.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:d[t];if(s=typeof n,"string"===s&&(i=Fe.exec(n))&&i[1]&&(n=u(e,t,i),s="number"),null!=n&&n===n&&("number"===s&&(n+=i&&i[3]||(fe.cssNumber[o]?"":"px")),he.clearCloneStyle||""!==n||0!==t.indexOf("background")||(d[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{d[t]=n}catch(l){}}},css:function(e,t,n,r){var i,s,a,o=fe.camelCase(t);return t=fe.cssProps[o]||(fe.cssProps[o]=D(o)||o),a=fe.cssHooks[t]||fe.cssHooks[o],a&&"get"in a&&(s=a.get(e,!0,n)),void 0===s&&(s=gt(e,t,r)),"normal"===s&&t in jt&&(s=jt[t]),""===n||n?(i=parseFloat(s),n===!0||isFinite(i)?i||0:s):s}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,r){return n?yt.test(fe.css(e,"display"))&&0===e.offsetWidth?ut(e,xt,function(){return F(e,t,r)}):F(e,t,r):void 0},set:function(e,n,r){var i=r&&pt(e);return P(e,n,r?H(e,t,r,he.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,i),i):0)}}}),he.opacity||(fe.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===fe.trim(s.replace(mt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=mt.test(s)?s.replace(mt,i):s+" "+i)}}),fe.cssHooks.marginRight=O(he.reliableMarginRight,function(e,t){return t?ut(e,{display:"inline-block"},gt,[e,"marginRight"]):void 0}),fe.cssHooks.marginLeft=O(he.reliableMarginLeft,function(e,t){return t?(parseFloat(gt(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ut(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+qe[r]+t]=s[r]||s[r-2]||s[0];return i}},ct.test(e)||(fe.cssHooks[e+t].set=P)}),fe.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var r,i,s={},a=0;if(fe.isArray(t)){for(r=pt(e),i=t.length;i>a;a++)s[t[a]]=fe.css(e,t[a],!1,r);return s}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?fe(this).show():fe(this).hide()})}}),fe.Tween=q,q.prototype={constructor:q,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(fe.cssNumber[n]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,n=q.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=q.prototype.init,fe.fx.step={};var Ct,Tt,Nt=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;fe.Animation=fe.extend(z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,Fe.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(Se);for(var n,r=0,i=e.length;i>r;r++)n=e[r],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),fe.speed=function(e,t,n){var r=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return r.duration=fe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in fe.fx.speeds?fe.fx.speeds[r.duration]:fe.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){fe.isFunction(r.old)&&r.old.call(this),r.queue&&fe.dequeue(this,r.queue)},r},fe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=fe.isEmptyObject(e),s=fe.speed(t,n,r),a=function(){var t=z(this,fe.extend({},e),s);(i||fe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=fe.timers,a=fe._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Et.test(i)&&r(a[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));!t&&n||fe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=fe._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=fe.timers,a=r?r.length:0;for(n.finish=!0,fe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(I(t,!0),e,r,i)}}),fe.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,n=0;for(Ct=fe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||fe.fx.stop(),Ct=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){Tt||(Tt=e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.clearInterval(Tt),Tt=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e,t=re.createElement("input"),n=re.createElement("div"),r=re.createElement("select"),i=r.appendChild(re.createElement("option"));n=re.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",he.getSetAttribute="t"!==n.className,he.style=/top/.test(e.getAttribute("style")),he.hrefNormalized="/a"===e.getAttribute("href"),he.checkOn=!!t.value,he.optSelected=i.selected,he.enctype=!!re.createElement("form").enctype,r.disabled=!0,he.optDisabled=!i.disabled,t=re.createElement("input"),t.setAttribute("value",""),he.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),he.radioValue="t"===t.value}();var St=/\r/g,At=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=fe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,fe(this).val()):e,null==i?i="":"number"==typeof i?i+="":fe.isArray(i)&&(i=fe.map(i,function(e){return null==e?"":e+""})),t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=fe.valHooks[i.type]||fe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(St,""):null==n?"":n)):void 0}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(At," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,a=s?null:[],o=s?i+1:r.length,d=0>i?o:s?i:0;o>d;d++)if(n=r[d],(n.selected||d===i)&&(he.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,s=fe.makeArray(t),a=i.length;a--;)if(r=i[a],fe.inArray(fe.valHooks.option.get(r),s)>-1)try{r.selected=n=!0}catch(o){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){return fe.isArray(t)?e.checked=fe.inArray(fe(e).val(),t)>-1:void 0}},he.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ot,Dt,Lt=fe.expr.attrHandle,Pt=/^(?:checked|selected)$/i,Ht=he.getSetAttribute,Ft=he.input;fe.fn.extend({attr:function(e,t){return Ie(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var r,i,s=e.nodeType;return 3!==s&&8!==s&&2!==s?"undefined"==typeof e.getAttribute?fe.prop(e,t,n):(1===s&&fe.isXMLDoc(e)||(t=t.toLowerCase(),i=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?Dt:Ot)),void 0!==n?null===n?void fe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=fe.find.attr(e,t),null==r?void 0:r)):void 0},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(Se);if(s&&1===e.nodeType)for(;n=s[i++];)r=fe.propFix[n]||n,fe.expr.match.bool.test(n)?Ft&&Ht||!Pt.test(n)?e[r]=!1:e[fe.camelCase("default-"+n)]=e[r]=!1:fe.attr(e,n,""),e.removeAttribute(Ht?n:r)}}),Dt={set:function(e,t,n){return t===!1?fe.removeAttr(e,n):Ft&&Ht||!Pt.test(n)?e.setAttribute(!Ht&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Lt[t]||fe.find.attr;Ft&&Ht||!Pt.test(t)?Lt[t]=function(e,t,r){var i,s;return r||(s=Lt[t],Lt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Lt[t]=s),i}:Lt[t]=function(e,t,n){return n?void 0:e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),Ft&&Ht||(fe.attrHooks.value={set:function(e,t,n){return fe.nodeName(e,"input")?void(e.defaultValue=t):Ot&&Ot.set(e,t,n)}}),Ht||(Ot={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Lt.id=Lt.name=Lt.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},fe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Ot.set},fe.attrHooks.contenteditable={set:function(e,t,n){Ot.set(e,""===t?!1:t,n)}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),he.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var qt=/^(?:input|select|textarea|button|object)$/i,Rt=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Ie(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),fe.extend({prop:function(e,t,n){var r,i,s=e.nodeType;return 3!==s&&8!==s&&2!==s?(1===s&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,i=fe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):qt.test(e.nodeName)||Rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),he.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),he.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),he.enctype||(fe.propFix.enctype="encoding");var It=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,r,i,s,a,o,d=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,X(this)))});if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[d++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(It," ")){for(a=0;s=t[a++];)r.indexOf(" "+s+" ")<0&&(r+=s+" ");o=fe.trim(r),i!==o&&fe.attr(n,"class",o)}return this},removeClass:function(e){var t,n,r,i,s,a,o,d=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,X(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Se)||[];n=this[d++];)if(i=X(n),r=1===n.nodeType&&(" "+i+" ").replace(It," ")){for(a=0;s=t[a++];)for(;r.indexOf(" "+s+" ")>-1;)r=r.replace(" "+s+" "," ");o=fe.trim(r),i!==o&&fe.attr(n,"class",o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,X(this),t),t)}):this.each(function(){var t,r,i,s;if("string"===n)for(r=0,i=fe(this),s=e.match(Se)||[];t=s[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=X(this),t&&fe._data(this,"__className__",t),fe.attr(this,"class",t||e===!1?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(n)+" ").replace(It," ").indexOf(t)>-1)return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Mt=e.location,Bt=fe.now(),Wt=/\?/,zt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=fe.trim(t+"");return i&&!fe.trim(i.replace(zt,function(e,t,i,s){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new e.DOMParser,n=r.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var Xt=/#.*$/,$t=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Jt=/^(?:GET|HEAD)$/,Yt=/^\/\//,Vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qt={},Zt={},Gt="*/".concat("*"),en=Mt.href,tn=Vt.exec(en.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:en,type:"GET",isLocal:Kt.test(tn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?K(K(e,fe.ajaxSettings),t):K(fe.ajaxSettings,e)},ajaxPrefilter:$(Qt),ajaxTransport:$(Zt),ajax:function(t,n){function r(t,n,r,i){var s,h,v,y,x,w=n;2!==b&&(b=2,d&&e.clearTimeout(d),c=void 0,o=i||"",j.readyState=t>0?4:0,s=t>=200&&300>t||304===t,r&&(y=J(u,j,r)),y=Y(u,y,j,s),s?(u.ifModified&&(x=j.getResponseHeader("Last-Modified"),x&&(fe.lastModified[a]=x),x=j.getResponseHeader("etag"),x&&(fe.etag[a]=x)),204===t||"HEAD"===u.type?w="nocontent":304===t?w="notmodified":(w=y.state,h=y.data,v=y.error,s=!v)):(v=w,!t&&w||(w="error",0>t&&(t=0))),j.status=t,j.statusText=(n||w)+"",s?g.resolveWith(f,[h,w,j]):g.rejectWith(f,[j,w,v]),j.statusCode(m),m=void 0,l&&p.trigger(s?"ajaxSuccess":"ajaxError",[j,u,s?h:v]),_.fireWith(f,[j,w]),l&&(p.trigger("ajaxComplete",[j,u]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,s,a,o,d,l,c,h,u=fe.ajaxSetup({},n),f=u.context||u,p=u.context&&(f.nodeType||f.jquery)?fe(f):fe.event,g=fe.Deferred(),_=fe.Callbacks("once memory"),m=u.statusCode||{},v={},y={},b=0,x="canceled",j={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!h)for(h={};t=Ut.exec(o);)h[t[1].toLowerCase()]=t[2];t=h[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else j.always(e[j.status]);return this},abort:function(e){var t=e||x;return c&&c.abort(t),r(0,t),this}};if(g.promise(j).complete=_.add,j.success=j.done,j.error=j.fail,u.url=((t||u.url||en)+"").replace(Xt,"").replace(Yt,tn[1]+"//"),u.type=n.method||n.type||u.method||u.type,u.dataTypes=fe.trim(u.dataType||"*").toLowerCase().match(Se)||[""],null==u.crossDomain&&(i=Vt.exec(u.url.toLowerCase()),u.crossDomain=!(!i||i[1]===tn[1]&&i[2]===tn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(tn[3]||("http:"===tn[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=fe.param(u.data,u.traditional)),U(Qt,u,n,j),2===b)return j;l=fe.event&&u.global,l&&0===fe.active++&&fe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Jt.test(u.type),a=u.url,u.hasContent||(u.data&&(a=u.url+=(Wt.test(a)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=$t.test(a)?a.replace($t,"$1_="+Bt++):a+(Wt.test(a)?"&":"?")+"_="+Bt++)),u.ifModified&&(fe.lastModified[a]&&j.setRequestHeader("If-Modified-Since",fe.lastModified[a]),fe.etag[a]&&j.setRequestHeader("If-None-Match",fe.etag[a])),(u.data&&u.hasContent&&u.contentType!==!1||n.contentType)&&j.setRequestHeader("Content-Type",u.contentType),j.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Gt+"; q=0.01":""):u.accepts["*"]);for(s in u.headers)j.setRequestHeader(s,u.headers[s]);if(u.beforeSend&&(u.beforeSend.call(f,j,u)===!1||2===b))return j.abort();x="abort";for(s in{success:1,error:1,complete:1})j[s](u[s]);if(c=U(Zt,u,n,j)){if(j.readyState=1,l&&p.trigger("ajaxSend",[j,u]),2===b)return j;u.async&&u.timeout>0&&(d=e.setTimeout(function(){j.abort("timeout")},u.timeout));try{b=1,c.send(v,r)}catch(w){if(!(2>b))throw w;r(-1,w)}}else r(-1,"No Transport");return j},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,r,i){return fe.isFunction(n)&&(i=i||r,r=n,n=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:i,data:n,success:r},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return he.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Q(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var nn=/%20/g,rn=/\[\]$/,sn=/\r?\n/g,an=/^(?:submit|button|image|reset|file)$/i,on=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,r=[],i=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){i(this.name,this.value)});else for(n in e)Z(n,e[n],t,i);return r.join("&").replace(nn,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&on.test(this.nodeName)&&!an.test(e)&&(this.checked||!Me.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(sn,"\r\n")}}):{name:t.name,value:n.replace(sn,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():re.documentMode>8?G():/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||ee()}:G;var dn=0,ln={},cn=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ln)ln[e](void 0,!0)}),he.cors=!!cn&&"withCredentials"in cn,cn=he.ajax=!!cn,cn&&fe.ajaxTransport(function(t){if(!t.crossDomain||he.cors){var n;return{send:function(r,i){var s,a=t.xhr(),o=++dn;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)void 0!==r[s]&&a.setRequestHeader(s,r[s]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var s,d,l;if(n&&(r||4===a.readyState))if(delete ln[o],n=void 0,a.onreadystatechange=fe.noop,r)4!==a.readyState&&a.abort();else{l={},s=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{d=a.statusText}catch(c){d=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&i(s,d,l,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=ln[o]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=re.head||fe("head")[0]||re.documentElement;return{send:function(r,i){t=re.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var hn=[],un=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||fe.expando+"_"+Bt++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,a,o=t.jsonp!==!1&&(un.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&un.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(un,"$1"+i):t.jsonp!==!1&&(t.url+=(Wt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||fe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===s?fe(e).removeProp(i):e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,hn.push(i)),a&&fe.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||re;var r=je.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=m([e],t,i),i&&i.length&&fe(i).remove(),fe.merge([],r.childNodes))};var fn=fe.fn.load;fe.fn.load=function(e,t,n){if("string"!=typeof e&&fn)return fn.apply(this,arguments);var r,i,s,a=this,o=e.indexOf(" ");return o>-1&&(r=fe.trim(e.slice(o,e.length)),e=e.slice(0,o)),fe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&fe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(r?fe("<div>").append(fe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,s||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var r,i,s,a,o,d,l,c=fe.css(e,"position"),h=fe(e),u={};"static"===c&&(e.style.position="relative"),o=h.offset(),s=fe.css(e,"top"),d=fe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&fe.inArray("auto",[s,d])>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(s)||0,i=parseFloat(d)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},o))),null!=t.top&&(u.top=t.top-o.top+a),null!=t.left&&(u.left=t.left-o.left+i),"using"in t?t.using.call(e,u):h.css(u)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;return s?(t=s.documentElement,fe.contains(t,i)?("undefined"!=typeof i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=te(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===fe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),
n.top+=fe.css(e[0],"borderTopWidth",!0),n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(r,"marginTop",!0),left:t.left-n.left-fe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||ft})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);fe.fn[e]=function(r){return Ie(this,function(e,r,i){var s=te(e);return void 0===i?s?t in s?s[t]:s.document.documentElement[r]:e[r]:void(s?s.scrollTo(n?fe(s).scrollLeft():i,n?i:fe(s).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=O(he.pixelPosition,function(e,n){return n?(n=gt(e,t),ht.test(n)?fe(e).position()[t]+"px":n):void 0})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){fe.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Ie(this,function(t,n,r){var i;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?fe.css(t,n,a):fe.style(t,n,r,a)},t,s?r:void 0,s,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var pn=e.jQuery,gn=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=gn),t&&e.jQuery===fe&&(e.jQuery=pn),fe},t||(e.jQuery=e.$=fe),fe}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";if(!e.jstree){var n,r,i=0,s=!1,a=!1,o=!1,d=[],l=e("script:last").attr("src"),c=window.document,h=c.createElement("LI");h.setAttribute("role","treeitem"),n=c.createElement("I"),n.className="jstree-icon jstree-ocl",n.setAttribute("role","presentation"),h.appendChild(n),n=c.createElement("A"),n.className="jstree-anchor",n.setAttribute("href","#"),n.setAttribute("tabindex","-1"),r=c.createElement("I"),r.className="jstree-icon jstree-themeicon",r.setAttribute("role","presentation"),n.appendChild(r),h.appendChild(n),n=r=null,e.jstree={version:"3.3.0",defaults:{plugins:[]},plugins:{},path:l&&-1!==l.indexOf("/")?l.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,n){var r=new e.jstree.core(++i),s=n;return n=e.extend(!0,{},e.jstree.defaults,n),s&&s.plugins&&(n.plugins=s.plugins),e.each(n.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,n[t]))}),e(t).data("jstree",r),r.init(t,n),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(c).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(i){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(i){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?n=r:e(".jstree").each(function(){var r=e(this).data("jstree");return r&&r._model.data[t]?(n=r,!1):void 0}),n},e.fn.jstree=function(n){var r="string"==typeof n,i=Array.prototype.slice.call(arguments,1),s=null;return n!==!0||this.length?(this.each(function(){var a=e.jstree.reference(this),o=r&&a?a[n]:null;return s=r&&o?o.apply(a,i):null,a||r||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(a&&!r||n===!0)&&(s=a||!1),null!==s&&s!==t?!1:void 0}),null!==s&&s!==t?s:this):!1},e.expr[":"].jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,n){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(t){}e||this.element.empty(),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,r=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(c.selection&&c.selection.empty)c.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(n){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){return e.target.tagName&&"input"===e.target.tagName.toLowerCase()?!0:void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==c.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var n=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(n=this.get_parent(t.currentTarget),n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus());break;case 38:t.preventDefault(),n=this.get_prev_dom(t.currentTarget),n&&n.length&&n.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0],n&&e(this._firstChild(n)).children(".jstree-anchor").focus());break;case 40:t.preventDefault(),n=this.get_next_dom(t.currentTarget),n&&n.length&&n.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),n=this._firstChild(this.get_container_ul()[0]),n&&e(n).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:t.preventDefault(),this.edit(t.currentTarget)}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,r=[];for(t=0,n=this._data.core.selected.length;n>t;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(r=e.vakata.array_unique(r),t=0,n=r.length;n>t;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var i=String.fromCharCode(r.which).toLowerCase(),s=this.element.find(".jstree-anchor").filter(":visible"),a=s.index(c.activeElement)||0,o=!1;if(t+=i,t.length>1){if(s.slice(a).each(e.proxy(function(n,r){return 0===e(r).text().toLowerCase().indexOf(t)?(e(r).focus(),o=!0,!1):void 0},this)),o)return;if(s.slice(0,a).each(e.proxy(function(n,r){return 0===e(r).text().toLowerCase().indexOf(t)?(e(r).focus(),o=!0,!1):void 0},this)),o)return}if(new RegExp("^"+i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(s.slice(a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===i?(e(n).focus(),o=!0,!1):void 0},this)),o)return;if(s.slice(0,a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===i?(e(n).focus(),o=!0,!1):void 0},this)),o)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-r>500&&!this._data.core.focused){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(c).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){t&&t.id&&(t=t.id);var r;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=e(t,this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=e(t,this.element)).length||!r.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(i){return!1}},get_path:function(t,n,r){if(t=t.parents?t:this.get_node(t),!t||t.id===e.jstree.root||!t.parents)return!1;var i,s,a=[];for(a.push(r?t.id:t.text),i=0,s=t.parents.length;s>i;i++)a.push(r?t.parents[i]:this.get_text(t.parents[i]));return a=a.reverse().slice(1),n?a.join(n):a},get_next_dom:function(t,n){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return r?e(r):!1}if(!t||!t.length)return!1;if(n){r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return r?e(r):!1}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var r;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return r?e(r):!1}if(!t||!t.length)return!1;if(n){r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);return r?e(r):!1}r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return r=t[0].parentNode.parentNode,r&&r.className&&-1!==r.className.indexOf("jstree-node")?e(r):!1},get_parent:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.parent:!1},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):e&&e.length?e.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var r,i,s,a,o;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(t=this.get_node(t),!t)return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,s=0,a=t.parents.length;a>s;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(r=0,i=t.children_d.length;i>r;r++)this._model.data[t.children_d[r]].state.selected&&(o=!0),delete this._model.data[t.children_d[r]];o&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],o&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var r=this.get_node(t,!0),i=0,s=0,a=this._model.data,o=!1;for(i=0,s=t.children.length;s>i;i++)if(a[t.children[i]]&&!a[t.children[i]].state.hidden){o=!0;break}t.state.loaded&&r&&r.length&&(r.removeClass("jstree-closed jstree-open jstree-leaf"),o?r.addClass(t.state.opened?"jstree-open":"jstree-closed"):r.addClass("jstree-leaf")),r.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,r){var i,s,a=!0,o=function(){this._load_nodes(e,t,!0)},d=this._model.data,l=[];for(i=0,s=e.length;s>i;i++)d[e[i]]&&(!d[e[i]].state.loaded&&!d[e[i]].state.failed||!n&&r)&&(this.is_loading(e[i])||this.load_node(e[i],o),a=!1);if(a){for(i=0,s=e.length;s>i;i++)d[e[i]]&&d[e[i]].state.loaded&&l.push(e[i]);t&&!t.done&&(t.call(this,l),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var r,i,s=[],a=this._model.data,o=a[t.id].children_d;for(t.state&&!t.state.loaded&&s.push(t.id),r=0,i=o.length;i>r;r++)a[o[r]]&&a[o[r]].state&&!a[o[r]].state.loaded&&s.push(o[r]);s.length?this._load_nodes(s,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var r,i=this.settings.core.data;return i?e.isFunction(i)?i.call(this,t,e.proxy(function(r){r===!1?n.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(function(){return 3!==this.nodeType}):r,function(e){n.call(this,e)})},this)):"object"==typeof i?i.url?(i=e.extend(!0,{},i),e.isFunction(i.url)&&(i.url=i.url.call(this,t)),e.isFunction(i.data)&&(i.data=i.data.call(this,t)),e.ajax(i).done(e.proxy(function(r,i,s){var a=s.getResponseHeader("Content-Type");return a&&-1!==a.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,function(e){n.call(this,e)}):a&&-1!==a.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(function(){return 3!==this.nodeType}),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:s})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){n.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(r=e.isArray(i)||e.isPlainObject(i)?JSON.parse(JSON.stringify(i)):i,t.id===e.jstree.root?this._append_json_data(t,r,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof i?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(i)).filter(function(){return 3!==this.nodeType}),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&this._model.changed.push(e.id)},_append_html_data:function(t,n,r){t=this.get_node(t),t.children=[],t.children_d=[];var i,s,a,o=n.is("ul")?n.children():n,d=t.id,l=[],c=[],h=this._model.data,u=h[d],f=this._data.core.selected.length;for(o.each(e.proxy(function(t,n){i=this._parse_model_from_html(e(n),d,u.parents.concat()),i&&(l.push(i),c.push(i),h[i].children_d.length&&(c=c.concat(h[i].children_d)))},this)),u.children=l,u.children_d=c,s=0,a=u.parents.length;a>s;s++)h[u.parents[s]].children_d=h[u.parents[s]].children_d.concat(c);this.trigger("model",{nodes:c,parent:d}),d!==e.jstree.root?(this._node_changed(d),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,n,r,i){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],n.d&&(n=n.d,"string"==typeof n&&(n=JSON.parse(n))),e.isArray(n)||(n=[n]);var s=null,a={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},o=function(e,t){e.data&&(e=e.data);var n,r,i,s,a=e.dat,o=e.par,d=[],l=[],c=[],h=e.df,u=e.t_id,f=e.t_cnt,p=e.m,g=p[o],_=e.sel,m=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,s,a,o,d=e.id.toString(),l={id:d,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(l.state[i]=h[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(l.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(l.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(l.li_attr[i]=e.li_attr[i]);if(l.li_attr.id||(l.li_attr.id=d),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(l.a_attr[i]=e.a_attr[i]);for(e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),p[l.id]=l,i=0,s=l.children.length;s>i;i++)a=m(p[l.children[i]],l.id,r),o=p[a],l.children_d.push(a),o.children_d.length&&(l.children_d=l.children_d.concat(o.children_d));return delete e.data,delete e.children,p[l.id].original=e,l.state.selected&&c.push(l.id),l.id},v=function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,s,a,o,d,l=!1;do l="j"+u+"_"+ ++f;while(p[l]);d={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(d.state[i]=h[i]);if(e&&e.id&&(d.id=e.id.toString()),e&&e.text&&(d.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(d.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(d.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(d.li_attr[i]=e.li_attr[i]);if(d.li_attr.id&&!d.id&&(d.id=d.li_attr.id.toString()),d.id||(d.id=l),d.li_attr.id||(d.li_attr.id=d.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(d.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,s=e.children.length;s>i;i++)a=v(e.children[i],d.id,r),o=p[a],d.children.push(a),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d));d.children_d=d.children_d.concat(d.children)}return e&&e.children&&e.children===!0&&(d.state.loaded=!1,d.children=[],d.children_d=[]),delete e.data,delete e.children,d.original=e,p[d.id]=d,d.state.selected&&c.push(d.id),d.id};if(a.length&&a[0].id!==t&&a[0].parent!==t){for(r=0,i=a.length;i>r;r++)a[r].children||(a[r].children=[]),p[a[r].id.toString()]=a[r];for(r=0,i=a.length;i>r;r++)p[a[r].parent.toString()].children.push(a[r].id.toString()),g.children_d.push(a[r].id.toString());for(r=0,i=g.children.length;i>r;r++)n=m(p[g.children[r]],o,g.parents.concat()),l.push(n),p[n].children_d.length&&(l=l.concat(p[n].children_d));for(r=0,i=g.parents.length;i>r;r++)p[g.parents[r]].children_d=p[g.parents[r]].children_d.concat(l);s={cnt:f,mod:p,sel:_,par:o,dpc:l,add:c}}else{for(r=0,i=a.length;i>r;r++)n=v(a[r],o,g.parents.concat()),n&&(d.push(n),l.push(n),p[n].children_d.length&&(l=l.concat(p[n].children_d)));for(g.children=d,g.children_d=l,r=0,i=g.parents.length;i>r;r++)p[g.parents[r]].children_d=p[g.parents[r]].children_d.concat(l);s={cnt:f,mod:p,sel:_,par:o,dpc:l,add:c}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?s:void postMessage(s)},d=function(t,n){if(null!==this.element){this._cnt=t.cnt;var i,s=this._model.data;for(i in s)s.hasOwnProperty(i)&&s[i].state&&s[i].state.loading&&t.mod[i]&&(t.mod[i].state.loading=!0);if(this._model.data=t.mod,n){var a,o=t.add,d=t.sel,l=this._data.core.selected.slice();if(s=this._model.data,d.length!==l.length||e.vakata.array_unique(d.concat(l)).length!==d.length){for(i=0,a=d.length;a>i;i++)-1===e.inArray(d[i],o)&&-1===e.inArray(d[i],l)&&(s[d[i]].state.selected=!1);for(i=0,a=l.length;a>i;i++)-1===e.inArray(l[i],d)&&(s[l[i]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+o.toString()],{type:"text/javascript"}))),!this._data.core.working||i?(this._data.core.working=!0,s=new window.Worker(this._wrk),s.onmessage=e.proxy(function(e){d.call(this,e.data,!0);try{s.terminate(),s=null}catch(t){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),a.par?s.postMessage(a):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,r,!0])}catch(l){d.call(this,o(a),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else d.call(this,o(a),!1)}},_parse_model_from_html:function(n,r,i){i=i?[].concat(i):[],r&&i.unshift(r);var s,a,o,d,l,c=this._model.data,h={id:!1,text:!1,icon:!0,parent:r,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(o in this._model.default_state)this._model.default_state.hasOwnProperty(o)&&(h.state[o]=this._model.default_state[o]);if(d=e.vakata.attributes(n,!0),e.each(d,function(t,n){return n=e.trim(n),n.length?(h.li_attr[t]=n,void("id"===t&&(h.id=n.toString()))):!0}),d=n.children("a").first(),d.length&&(d=e.vakata.attributes(d,!0),e.each(d,function(t,n){n=e.trim(n),n.length&&(h.a_attr[t]=n)})),d=n.children("a").first().length?n.children("a").first().clone():n.clone(),d.children("ins, i, ul").remove(),d=d.html(),d=e("<div />").html(d),h.text=this.settings.core.force_text?d.text():d.html(),d=n.data(),h.data=d?e.extend(!0,{},d):null,h.state.opened=n.hasClass("jstree-open"),h.state.selected=n.children("a").hasClass("jstree-clicked"),h.state.disabled=n.children("a").hasClass("jstree-disabled"),h.data&&h.data.jstree)for(o in h.data.jstree)h.data.jstree.hasOwnProperty(o)&&(h.state[o]=h.data.jstree[o]);d=n.children("a").children(".jstree-themeicon"),d.length&&(h.icon=d.hasClass("jstree-themeicon-hidden")?!1:d.attr("rel")),h.state.icon!==t&&(h.icon=h.state.icon),(h.icon===t||null===h.icon||""===h.icon)&&(h.icon=!0),d=n.children("ul").children("li");do l="j"+this._id+"_"+ ++this._cnt;while(c[l]);return h.id=h.li_attr.id?h.li_attr.id.toString():l,d.length?(d.each(e.proxy(function(t,n){s=this._parse_model_from_html(e(n),h.id,i),a=this._model.data[s],h.children.push(s),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d))},this)),h.children_d=h.children_d.concat(h.children)):n.hasClass("jstree-closed")&&(h.state.loaded=!1),h.li_attr["class"]&&(h.li_attr["class"]=h.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),h.a_attr["class"]&&(h.a_attr["class"]=h.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),c[h.id]=h,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_flat_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,s,a,o,d=e.id.toString(),l=this._model.data,c=this._model.default_state,h={id:d,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:n,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in c)c.hasOwnProperty(i)&&(h.state[i]=c[i]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),(h.icon===t||null===h.icon||""===h.icon)&&(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(h.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(h.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(h.li_attr[i]=e.li_attr[i]);if(h.li_attr.id||(h.li_attr.id=d),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(h.a_attr[i]=e.a_attr[i]);for(e&&e.children&&e.children===!0&&(h.state.loaded=!1,h.children=[],h.children_d=[]),l[h.id]=h,i=0,s=h.children.length;s>i;i++)a=this._parse_model_from_flat_json(l[h.children[i]],h.id,r),o=l[a],h.children_d.push(a),o.children_d.length&&(h.children_d=h.children_d.concat(o.children_d));return delete e.data,delete e.children,l[h.id].original=e,h.state.selected&&this._data.core.selected.push(h.id),h.id},_parse_model_from_json:function(e,n,r){r=r?r.concat():[],n&&r.unshift(n);var i,s,a,o,d,l=!1,c=this._model.data,h=this._model.default_state;do l="j"+this._id+"_"+ ++this._cnt;while(c[l]);d={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:n,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(i in h)h.hasOwnProperty(i)&&(d.state[i]=h[i]);if(e&&e.id&&(d.id=e.id.toString()),e&&e.text&&(d.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(i in e.data.jstree)e.data.jstree.hasOwnProperty(i)&&(d.state[i]=e.data.jstree[i]);if(e&&"object"==typeof e.state)for(i in e.state)e.state.hasOwnProperty(i)&&(d.state[i]=e.state[i]);if(e&&"object"==typeof e.li_attr)for(i in e.li_attr)e.li_attr.hasOwnProperty(i)&&(d.li_attr[i]=e.li_attr[i]);if(d.li_attr.id&&!d.id&&(d.id=d.li_attr.id.toString()),d.id||(d.id=l),d.li_attr.id||(d.li_attr.id=d.id),e&&"object"==typeof e.a_attr)for(i in e.a_attr)e.a_attr.hasOwnProperty(i)&&(d.a_attr[i]=e.a_attr[i]);if(e&&e.children&&e.children.length){for(i=0,s=e.children.length;s>i;i++)a=this._parse_model_from_json(e.children[i],d.id,r),
o=c[a],d.children.push(a),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d));d.children_d=d.children_d.concat(d.children)}return e&&e.children&&e.children===!0&&(d.state.loaded=!1,d.children=[],d.children_d=[]),delete e.data,delete e.children,d.original=e,c[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_redraw:function(){var t,n,r,i=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),s=c.createElement("UL"),a=this._data.core.focused;for(n=0,r=i.length;r>n;n++)t=this.redraw_node(i[n],!0,this._model.force_full_redraw),t&&this._model.force_full_redraw&&s.appendChild(t);this._model.force_full_redraw&&(s.className=this.get_container_ul()[0].className,s.setAttribute("role","group"),this.element.empty().append(s)),null!==a&&(t=this.get_node(a,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==c.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),r=!1,i=!1,s=!1,a=c;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(t=this.get_node(t,!0),!t||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for(s=a.createElement("UL"),s.setAttribute("role","group"),s.className="jstree-children",r=0,i=n.children.length;i>r;r++)s.appendChild(this.redraw_node(n.children[r],!0,!0));t.appendChild(s)}},redraw_node:function(t,n,r,i){var s=this.get_node(t),a=!1,o=!1,d=!1,l=!1,u=!1,f=!1,p="",g=c,_=this._model.data,m=!1,v=null,y=0,b=0,x=!1,j=!1;if(!s)return!1;if(s.id===e.jstree.root)return this.redraw(!0);if(n=n||0===s.children.length,t=c.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(s.id[0])?"\\3"+s.id[0]+" "+s.id.substr(1).replace(e.jstree.idregex,"\\$&"):s.id.replace(e.jstree.idregex,"\\$&"))):c.getElementById(s.id))t=e(t),r||(a=t.parent().parent()[0],a===this.element[0]&&(a=null),o=t.index()),n||!s.children.length||t.children(".jstree-children").length||(n=!0),n||(d=t.children(".jstree-children")[0]),m=t.children(".jstree-anchor")[0]===c.activeElement,t.remove();else if(n=!0,!r){if(a=s.parent!==e.jstree.root?e("#"+s.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===a||a&&_[s.parent].state.opened))return!1;o=e.inArray(s.id,null===a?_[e.jstree.root].children:_[s.parent].children)}t=h.cloneNode(!0),p="jstree-node ";for(l in s.li_attr)if(s.li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"!==l?t.setAttribute(l,s.li_attr[l]):p+=s.li_attr[l]}for(s.a_attr.id||(s.a_attr.id=s.id+"_anchor"),t.setAttribute("aria-selected",!!s.state.selected),t.setAttribute("aria-level",s.parents.length),t.setAttribute("aria-labelledby",s.a_attr.id),s.state.disabled&&t.setAttribute("aria-disabled",!0),l=0,u=s.children.length;u>l;l++)if(!_[s.children[l]].state.hidden){x=!0;break}if(null!==s.parent&&_[s.parent]&&!s.state.hidden&&(l=e.inArray(s.id,_[s.parent].children),j=s.id,-1!==l))for(l++,u=_[s.parent].children.length;u>l&&(_[_[s.parent].children[l]].state.hidden||(j=_[s.parent].children[l]),j===s.id);l++);s.state.hidden&&(p+=" jstree-hidden"),s.state.loaded&&!x?p+=" jstree-leaf":(p+=s.state.opened&&s.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",s.state.opened&&s.state.loaded)),j===s.id&&(p+=" jstree-last"),t.id=s.id,t.className=p,p=(s.state.selected?" jstree-clicked":"")+(s.state.disabled?" jstree-disabled":"");for(u in s.a_attr)if(s.a_attr.hasOwnProperty(u)){if("href"===u&&"#"===s.a_attr[u])continue;"class"!==u?t.childNodes[1].setAttribute(u,s.a_attr[u]):p+=" "+s.a_attr[u]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(s.icon&&s.icon!==!0||s.icon===!1)&&(s.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===s.icon.indexOf("/")&&-1===s.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+s.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+s.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(g.createTextNode(s.text)):t.childNodes[1].innerHTML+=s.text,n&&s.children.length&&(s.state.opened||i)&&s.state.loaded){for(f=g.createElement("UL"),f.setAttribute("role","group"),f.className="jstree-children",l=0,u=s.children.length;u>l;l++)f.appendChild(this.redraw_node(s.children[l],n,!0));t.appendChild(f)}if(d&&t.appendChild(d),!r){for(a||(a=this.element[0]),l=0,u=a.childNodes.length;u>l;l++)if(a.childNodes[l]&&a.childNodes[l].className&&-1!==a.childNodes[l].className.indexOf("jstree-children")){v=a.childNodes[l];break}v||(v=g.createElement("UL"),v.setAttribute("role","group"),v.className="jstree-children",a.appendChild(v)),a=v,o<a.childNodes.length?a.insertBefore(t,a.childNodes[o]):a.appendChild(t),m&&(y=this.element[0].scrollTop,b=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=y,this.element[0].scrollLeft=b)}return s.state.opened&&!s.state.loaded&&(s.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(s.id,!1,0)},this),0)),t},open_node:function(n,r,i){var s,a,o,d;if(e.isArray(n)){for(n=n.slice(),s=0,a=n.length;a>s;s++)this.open_node(n[s],r,i);return!0}return n=this.get_node(n),n&&n.id!==e.jstree.root?(i=i===t?this.settings.core.animation:i,this.is_closed(n)?this.is_loaded(n)?(o=this.get_node(n,!0),d=this,o.length&&(i&&o.children(".jstree-children").length&&o.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(o.children(".jstree-children")[0])&&this.draw_children(n),i?(this.trigger("before_open",{node:n}),o.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(i,function(){this.style.display="",d.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),o[0].className=o[0].className.replace("jstree-closed","jstree-open"),o[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,r&&r.call(this,n,!0),o.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),i&&o.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,r,i)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,r,i):r?r.call(this,e,!1):!1}):(r&&r.call(this,n,!1),!1)):!1},_open_to:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var n,r,i=t.parents;for(n=0,r=i.length;r>n;n+=1)n!==e.jstree.root&&this.open_node(i[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,r){var i,s,a,o;if(e.isArray(n)){for(n=n.slice(),i=0,s=n.length;s>i;i++)this.close_node(n[i],r);return!0}return n=this.get_node(n),n&&n.id!==e.jstree.root?this.is_closed(n)?!1:(r=r===t?this.settings.core.animation:r,a=this,o=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(o.length?r?o.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="",o.children(".jstree-children").remove(),a.trigger("after_close",{node:n})}):(o[0].className=o[0].className.replace("jstree-open","jstree-closed"),o.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n}))):!1},toggle_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,r){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var i,s,a,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!o.length){for(i=0,s=t.children_d.length;s>i;i++)this.is_closed(this._model.data[t.children_d[i]])&&(this._model.data[t.children_d[i]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||o,a=this,o=this.is_closed(t)?o.find(".jstree-closed").addBack():o.find(".jstree-closed"),o.each(function(){a.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,r)},n||0)}),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,n){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var r,i,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),a=this;for(s.length&&(s=this.is_open(t)?s.find(".jstree-open").addBack():s.find(".jstree-open"),e(s.get().reverse()).each(function(){a.close_node(this,n||0)})),r=0,i=t.children_d.length;i>r;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.enable_node(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t})):!1},disable_node:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.disable_node(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t})):!1},is_hidden:function(e){return e=this.get_node(e),e.state.hidden===!0},hide_node:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.hide_node(t[r],!0);return n||this.redraw(),!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))):!1},show_node:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.show_node(t[r],!0);return n||this.redraw(),!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))):!1},hide_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&!r[n].state.hidden&&(r[n].state.hidden=!0,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:i}),i},show_all:function(t){var n,r=this._model.data,i=[];for(n in r)r.hasOwnProperty(n)&&n!==e.jstree.root&&r[n].state.hidden&&(r[n].state.hidden=!1,i.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:i}),i},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var r,i,s=this.get_node(e).id,a=this._data.core.last_clicked.id,o=this.get_node(this._data.core.last_clicked.parent).children,d=!1;for(r=0,i=o.length;i>r;r+=1)o[r]===s&&(d=!d),o[r]===a&&(d=!d),this.is_disabled(o[r])||!d&&o[r]!==s&&o[r]!==a?this.deselect_node(o[r],!0,n):this.is_hidden(o[r])||this.select_node(o[r],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return e=this.get_node(e,!0),e&&e.length&&e.children(".jstree-hovered").length?(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)})):!1},select_node:function(t,n,r,i){var s,a,o;if(e.isArray(t)){for(t=t.slice(),a=0,o=t.length;o>a;a++)this.select_node(t[a],n,r,i);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(s=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(s=this._open_to(t)),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:i})))):!1},deselect_node:function(t,n,r){var i,s,a;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.deselect_node(t[i],n,r);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(a=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r})))):!1},select_all:function(t){var n,r,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,r=this._data.core.selected.length;r>n;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,r=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;n>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.state.selected:!1},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,r,i,s,a=this.get_selected(!0),o={};for(n=0,r=a.length;r>n;n++)o[a[n].id]=a[n];for(n=0,r=a.length;r>n;n++)for(i=0,s=a[n].children_d.length;s>i;i++)o[a[n].children_d[i]]&&delete o[a[n].children_d[i]];a=[];for(n in o)o.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,r,i=this.get_selected(!0),s=[];for(n=0,r=i.length;r>n;n++)i[n].children.length||s.push(i[n].id);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},get_state:function(){var t,n={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,r){if(n){if(n.core){var i,s;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,r)},!0):(delete n.core.open,this.set_state(n,r)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,r),!1;if(n.core.selected)return i=this,this.deselect_all(),e.each(n.core.selected,function(e,t){i.select_node(t,!1,!0)}),delete n.core.selected,this.set_state(n,r),!1;for(s in n)n.hasOwnProperty(s)&&"core"!==s&&-1===e.inArray(s,this.settings.plugins)&&delete n[s];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,r),!1}return e.isEmptyObject(n)?(n=null,r&&r.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(t,n){this._data.core.state=n===!0?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var n=[],r=[],i=this._data.core.selected.concat([]);r.push(t.id),t.state.opened===!0&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){r.push(this.id),n.push(this.id)}),this._load_nodes(r,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(i),this.trigger("refresh_node",{node:t,nodes:e})},this))},set_id:function(t,n){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var r,i,s=this._model.data,a=t.id;for(n=n.toString(),s[t.parent].children[e.inArray(t.id,s[t.parent].children)]=n,r=0,i=t.parents.length;i>r;r++)s[t.parents[r]].children_d[e.inArray(t.id,s[t.parents[r]].children_d)]=n;for(r=0,i=t.children.length;i>r;r++)s[t.children[r]].parent=n;for(r=0,i=t.children_d.length;i>r;r++)s[t.children_d[r]].parents[e.inArray(t.id,s[t.children_d[r]].parents)]=n;return r=e.inArray(t.id,this._data.core.selected),-1!==r&&(this._data.core.selected[r]=n),r=this.get_node(t.id,!0),r&&(r.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete s[t.id],t.id=n,t.li_attr.id=n,s[n]=t,this.trigger("set_id",{node:t,"new":t.id,old:a}),!0},get_text:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.text:!1},set_text:function(t,n){var r,i;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.set_text(t[r],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0):!1},get_json:function(t,n,r){if(t=this.get_node(t||e.jstree.root),!t)return!1;n&&n.flat&&!r&&(r=[]);var i,s,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:n&&n.no_data?!1:e.extend(!0,{},t.data)};if(n&&n.flat?a.parent=t.parent:a.children=[],!n||!n.no_state)for(i in t.state)t.state.hasOwnProperty(i)&&(a.state[i]=t.state[i]);if(n&&n.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&r.push(a),!n||!n.no_children)for(i=0,s=t.children.length;s>i;i++)n&&n.flat?this.get_json(t.children[i],n,r):a.children.push(this.get_json(t.children[i],n));return n&&n.flat?r:t.id===e.jstree.root?a.children:a},create_node:function(n,r,i,s,a){if(null===n&&(n=e.jstree.root),n=this.get_node(n),!n)return!1;if(i=i===t?"last":i,!i.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,r,i,s,!0)});r||(r={text:this.get_string("New node")}),"string"==typeof r&&(r={text:r}),r.text===t&&(r.text=this.get_string("New node"));var o,d,l,c;switch(n.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":o=this.get_node(n.parent),i=e.inArray(n.id,o.children),n=o;break;case"after":o=this.get_node(n.parent),i=e.inArray(n.id,o.children)+1,n=o;break;case"inside":case"first":i=0;break;case"last":i=n.children.length;break;default:i||(i=0)}if(i>n.children.length&&(i=n.children.length),r.id||(r.id=!0),!this.check("create_node",r,n,i))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(r.id===!0&&delete r.id,r=this._parse_model_from_json(r,n.id,n.parents.concat()),!r)return!1;for(o=this.get_node(r),d=[],d.push(r),d=d.concat(o.children_d),this.trigger("model",{nodes:d,parent:n.id}),n.children_d=n.children_d.concat(d),l=0,c=n.parents.length;c>l;l++)this._model.data[n.parents[l]].children_d=this._model.data[n.parents[l]].children_d.concat(d);for(r=o,o=[],l=0,c=n.children.length;c>l;l++)o[l>=i?l+1:l]=n.children[l];return o[i]=r.id,n.children=o,this.redraw_node(n,!0),s&&s.call(this,this.get_node(r)),this.trigger("create_node",{node:this.get_node(r),parent:n.id,position:i}),r.id},rename_node:function(t,n){var r,i,s;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.rename_node(t[r],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(s=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:s}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(t){var n,r,i,s,a,o,d,l,c,h,u,f;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.delete_node(t[n]);return!0}if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;if(i=this.get_node(t.parent),s=e.inArray(t.id,i.children),h=!1,!this.check("delete_node",t,i,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==s&&(i.children=e.vakata.array_remove(i.children,s)),a=t.children_d.concat([]),a.push(t.id),o=0,d=t.parents.length;d>o;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(t){return-1===e.inArray(t,a)});for(l=0,c=a.length;c>l;l++)if(this._model.data[a[l]].state.selected){h=!0;break}for(h&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,a)})),this.trigger("delete_node",{node:t,parent:i.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),l=0,c=a.length;c>l;l++)delete this._model.data[a[l]];return-1!==e.inArray(this._data.core.focused,a)&&(this._data.core.focused=null,u=this.element[0].scrollTop,f=this.element[0].scrollLeft,i.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(i,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=u,this.element[0].scrollLeft=f),this.redraw_node(i,!0),!0},check:function(t,n,r,i,s){n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r);var a=t.match(/^move_node|copy_node|create_node$/i)?r:n,o=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||s&&s.is_multi||n.id!==r.id&&("move_node"!==t||e.inArray(n.id,r.children)!==i)&&-1===e.inArray(r.id,n.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(a.functions[t]===!1||a.functions[t]===!0)?(a.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:n&&n.id?n.id:!1,par:r&&r.id?r.id:!1})}),a.functions[t]):o===!1||e.isFunction(o)&&o.call(this,t,n,r,i,s)===!1||o&&o[t]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:i,obj:n&&n.id?n.id:!1,par:r&&r.id?r.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:i,obj:n&&n.id?n.id:!1,par:r&&r.id?r.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,r,i,s,a,o,d){var l,c,h,u,f,p,g,_,m,v,y,b,x,j;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(n,r,i,s,!0,!1,d)});if(e.isArray(n)){if(1!==n.length){for(l=0,c=n.length;c>l;l++)(m=this.move_node(n[l],r,i,s,a,!1,d))&&(r=m,i="after");return this.redraw(),!0}n=n[0]}if(n=n&&n.id?n:this.get_node(n),!n||n.id===e.jstree.root)return!1;if(h=(n.parent||e.jstree.root).toString(),f=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,p=d?d:this._model.data[n.id]?this:e.jstree.reference(n.id),g=!p||!p._id||this._id!==p._id,u=p&&p._id&&h&&p._model.data[h]&&p._model.data[h].children?e.inArray(n.id,p._model.data[h].children):-1,p&&p._id&&(n=p._model.data[n.id]),g)return(m=this.copy_node(n,r,i,s,a,!1,d))?(p&&p.delete_node(n),m):!1;switch(r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,f.children);break;case"after":i=e.inArray(r.id,f.children)+1;break;case"inside":case"first":i=0;break;case"last":i=f.children.length;break;default:i||(i=0)}if(i>f.children.length&&(i=f.children.length),!this.check("move_node",n,f,i,{core:!0,origin:d,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(_=f.children.concat(),m=e.inArray(n.id,_),-1!==m&&(_=e.vakata.array_remove(_,m),i>m&&i--),m=[],v=0,y=_.length;y>v;v++)m[v>=i?v+1:v]=_[v];m[i]=n.id,f.children=m,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for(m=n.children_d.concat(),m.push(n.id),v=0,y=n.parents.length;y>v;v++){for(_=[],j=p._model.data[n.parents[v]].children_d,b=0,x=j.length;x>b;b++)-1===e.inArray(j[b],m)&&_.push(j[b]);p._model.data[n.parents[v]].children_d=_}for(p._model.data[h].children=e.vakata.array_remove_item(p._model.data[h].children,n.id),v=0,y=f.parents.length;y>v;v++)this._model.data[f.parents[v]].children_d=this._model.data[f.parents[v]].children_d.concat(m);for(_=[],v=0,y=f.children.length;y>v;v++)_[v>=i?v+1:v]=f.children[v];for(_[i]=n.id,f.children=_,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,m=f.parents.concat(),m.unshift(f.id),j=n.parents.length,n.parents=m,m=m.concat(),v=0,y=n.children_d.length;y>v;v++)this._model.data[n.children_d[v]].parents=this._model.data[n.children_d[v]].parents.slice(0,-1*j),Array.prototype.push.apply(this._model.data[n.children_d[v]].parents,m);(h===e.jstree.root||f.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(h),this._node_changed(f.id)),o||this.redraw()}return s&&s.call(this,n,f,i),this.trigger("move_node",{node:n,parent:f.id,position:i,old_parent:h,old_position:u,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,r,i,s,a,o,d){var l,c,h,u,f,p,g,_,m,v,y;if(r=this.get_node(r),i=i===t?0:i,!r)return!1;if(!i.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(n,r,i,s,!0,!1,d)});if(e.isArray(n)){if(1!==n.length){for(l=0,c=n.length;c>l;l++)(u=this.copy_node(n[l],r,i,s,a,!0,d))&&(r=u,i="after");return this.redraw(),!0}n=n[0]}if(n=n&&n.id?n:this.get_node(n),!n||n.id===e.jstree.root)return!1;switch(_=(n.parent||e.jstree.root).toString(),m=i.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,v=d?d:this._model.data[n.id]?this:e.jstree.reference(n.id),y=!v||!v._id||this._id!==v._id,v&&v._id&&(n=v._model.data[n.id]),r.id===e.jstree.root&&("before"===i&&(i="first"),"after"===i&&(i="last")),i){case"before":i=e.inArray(r.id,m.children);break;case"after":i=e.inArray(r.id,m.children)+1;break;case"inside":case"first":i=0;break;case"last":i=m.children.length;break;default:i||(i=0)}if(i>m.children.length&&(i=m.children.length),!this.check("copy_node",n,m,i,{core:!0,origin:d,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(g=v?v.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n,!g)return!1;if(g.id===!0&&delete g.id,g=this._parse_model_from_json(g,m.id,m.parents.concat()),!g)return!1;for(u=this.get_node(g),n&&n.state&&n.state.loaded===!1&&(u.state.loaded=!1),h=[],h.push(g),h=h.concat(u.children_d),this.trigger("model",{nodes:h,parent:m.id}),f=0,p=m.parents.length;p>f;f++)this._model.data[m.parents[f]].children_d=this._model.data[m.parents[f]].children_d.concat(h);for(h=[],f=0,p=m.children.length;p>f;f++)h[f>=i?f+1:f]=m.children[f];return h[i]=u.id,m.children=h,m.children_d.push(u.id),m.children_d=m.children_d.concat(u.children_d),m.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(m.id),o||this.redraw(m.id===e.jstree.root),s&&s.call(this,u,m,i),this.trigger("copy_node",{node:u,original:n,parent:m.id,position:i,old_parent:_,old_position:v&&v._id&&_&&v._model.data[_]&&v._model.data[_].children?e.inArray(n.id,v._model.data[_].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,r,i,d=[];for(r=0,i=t.length;i>r;r++)n=this.get_node(t[r]),n&&n.id&&n.id!==e.jstree.root&&d.push(n);return d.length?(s=d,o=this,a="move_node",void this.trigger("cut",{node:t})):!1},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,r,i,d=[];for(r=0,i=t.length;i>r;r++)n=this.get_node(t[r]),n&&n.id&&n.id!==e.jstree.root&&d.push(n);return d.length?(s=d,o=this,a="copy_node",void this.trigger("copy",{node:t})):!1},get_buffer:function(){return{mode:a,node:s,inst:o}},can_paste:function(){return a!==!1&&s!==!1},paste:function(e,t){return e=this.get_node(e),e&&a&&a.match(/^(copy_node|move_node)$/)&&s?(this[a](s,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:s,mode:a}),s=!1,a=!1,void(o=!1)):!1},clear_buffer:function(){s=!1,a=!1,o=!1,this.trigger("clear_buffer")},edit:function(t,n,r){var i,s,a,o,d,l,h,u,f,p=!1;return(t=this.get_node(t))?this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,
i=this._data.core.rtl,s=this.element.width(),this._data.core.focused=f.id,a=t.children(".jstree-anchor").focus(),o=e("<span>"),d=n,l=e("<div />",{css:{position:"absolute",top:"-200px",left:i?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),h=e("<input />",{value:d,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var i,s=o.children(".jstree-rename-input"),c=s.val(),u=this.settings.core.force_text;""===c&&(c=d),l.remove(),o.replaceWith(a),o.remove(),d=u?d:e("<div></div>").append(e.parseHTML(d)).html(),this.set_text(t,d),i=!!this.rename_node(t,u?e("<div></div>").text(c).text():e("<div></div>").append(e.parseHTML(c)).html()),i||this.set_text(t,d),this._data.core.focused=f.id,setTimeout(e.proxy(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())},this),0),r&&r.call(this,f,i,p),h=null},this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=d),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){h.width(Math.min(l.text("pW"+this.value).width(),s))},keypress:function(e){return 13===e.which?!1:void 0}}),u={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},o.attr("class",a.attr("class")).append(a.contents().clone()).append(h),a.replaceWith(o),l.css(u),h.css(u).width(Math.min(l.text("pW"+h[0].value).width(),s))[0].select(),void e(c).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){h&&t.target!==h&&e(h).blur()})):!1},set_theme:function(t,n){if(!t)return!1;if(n===!0){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),n=r+"/"+t+"/style.css"}n&&-1===e.inArray(n,d)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),d.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(n,r){var i,s,a,o;if(e.isArray(n)){for(n=n.slice(),i=0,s=n.length;s>i;i++)this.set_icon(n[i],r);return!0}return n=this.get_node(n),n&&n.id!==e.jstree.root?(o=n.icon,n.icon=r===!0||null===r||r===t||""===r?!0:r,a=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),r===!1?this.hide_icon(n):r===!0||null===r||r===t||""===r?(a.removeClass("jstree-themeicon-custom "+o).css("background","").removeAttr("rel"),o===!1&&this.show_icon(n)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(a.removeClass(o).css("background",""),a.addClass(r+" jstree-themeicon-custom").attr("rel",r),o===!1&&this.show_icon(n)):(a.removeClass(o).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),o===!1&&this.show_icon(n)),!0):!1},get_icon:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.icon:!1},hide_icon:function(t){var n,r;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.hide_icon(t[n]);return!0}return t=this.get_node(t),t&&t!==e.jstree.root?(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.show_icon(t[n]);return!0}return t=this.get_node(t),t&&t!==e.jstree.root?(i=this.get_node(t,!0),t.icon=i.length?i.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,t.icon||(t.icon=!0),i.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var r=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,i){-1===e.inArray(i.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==i.value&&""!==e.trim(i.value)&&(n?r[i.name]=i.value:r.push(i.name))}),r},e.vakata.array_unique=function(e){var n,r,i=[],s={};for(n=0,r=e.length;r>n;n++)s[e[n]]===t&&(i.push(e[n]),s[e[n]]=!0);return i},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var r=e.inArray(n,t);return-1!==r?e.vakata.array_remove(t,r):t},e.vakata.array_filter=function(e,t,n,r,i){if(e.filter)return e.filter(t,n);r=[];for(i in e)~~i+""==i+""&&i>=0&&t.call(n,e[i],+i,e)&&r.push(e[i]);return r},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,r){var i,s;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var a={};for(i=0,s=n.length;s>i;i++)a[n[i]]=1;for(i=0,s=r.selected.length;s>i;i++)a[r.selected[i]]?a[r.selected[i]]=2:r.changed.selected.push(r.selected[i]);for(i=0,s=n.length;s>i;i++)1===a[n[i]]&&r.changed.deselected.push(n[i]);n=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return n=[],t.refresh.apply(this,arguments)}};var u=c.createElement("I");u.className="jstree-icon jstree-checkbox",u.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(n,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,r,i=this._model.data,s=(i[t.parent],t.nodes);for(n=0,r=s.length;r>n;n++)i[s[n]].state.checked=i[s[n]].state.checked||i[s[n]].original&&i[s[n]].original.state&&i[s[n]].original.state.checked,i[s[n]].state.checked&&this._data.checkbox.selected.push(s[n])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,n){var r,i,s,a,o,d,l=this._model.data,c=l[n.parent],h=n.nodes,u=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(c.state[p?"selected":"checked"]){for(i=0,s=h.length;s>i;i++)l[h[i]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(h)}else for(i=0,s=h.length;s>i;i++)if(l[h[i]].state[p?"selected":"checked"]){for(a=0,o=l[h[i]].children_d.length;o>a;a++)l[l[h[i]].children_d[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(l[h[i]].children_d)}if(-1!==f.indexOf("up")){for(i=0,s=c.children_d.length;s>i;i++)l[c.children_d[i]].children.length||u.push(l[c.children_d[i]].parent);for(u=e.vakata.array_unique(u),a=0,o=u.length;o>a;a++)for(c=l[u[a]];c&&c.id!==e.jstree.root;){for(r=0,i=0,s=c.children.length;s>i;i++)r+=l[c.children[i]].state[p?"selected":"checked"];if(r!==s)break;c.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(c.id),d=this.get_node(c,!0),d&&d.length&&d.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var r,i,s,a,o=n.node,d=this._model.data,l=this.get_node(o.parent),c=this.get_node(o,!0),h=this.settings.checkbox.cascade,u=this.settings.checkbox.tie_selection,f={},p=this._data[u?"core":"checkbox"].selected;for(r=0,i=p.length;i>r;r++)f[p[r]]=!0;if(-1!==h.indexOf("down"))for(r=0,i=o.children_d.length;i>r;r++)f[o.children_d[r]]=!0,a=d[o.children_d[r]],a.state[u?"selected":"checked"]=!0,a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1);if(-1!==h.indexOf("up"))for(;l&&l.id!==e.jstree.root;){for(s=0,r=0,i=l.children.length;i>r;r++)s+=d[l.children[r]].state[u?"selected":"checked"];if(s!==i)break;l.state[u?"selected":"checked"]=!0,f[l.id]=!0,a=this.get_node(l,!0),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),l=this.get_node(l.parent)}p=[];for(r in f)f.hasOwnProperty(r)&&p.push(r);this._data[u?"core":"checkbox"].selected=p,-1!==h.indexOf("down")&&c.length&&c.find(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var r,i,s,a=this.get_node(e.jstree.root),o=this._model.data;for(r=0,i=a.children_d.length;i>r;r++)s=o[a.children_d[r]],s&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,n){var r,i,s,a=n.node,o=this.get_node(a,!0),d=this.settings.checkbox.cascade,l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,h={};if(a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1),-1!==d.indexOf("down"))for(r=0,i=a.children_d.length;i>r;r++)s=this._model.data[a.children_d[r]],s.state[l?"selected":"checked"]=!1,s&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1);if(-1!==d.indexOf("up"))for(r=0,i=a.parents.length;i>r;r++)s=this._model.data[a.parents[r]],s.state[l?"selected":"checked"]=!1,s&&s.original&&s.original.state&&s.original.state.undetermined&&(s.original.state.undetermined=!1),s=this.get_node(a.parents[r],!0),s&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked");for(h={},r=0,i=c.length;i>r;r++)-1!==d.indexOf("down")&&-1!==e.inArray(c[r],a.children_d)||-1!==d.indexOf("up")&&-1!==e.inArray(c[r],a.parents)||(h[c[r]]=!0);c=[];for(r in h)h.hasOwnProperty(r)&&c.push(r);this._data[l?"core":"checkbox"].selected=c,-1!==d.indexOf("down")&&o.length&&o.find(".jstree-anchor").removeClass(l?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var r,i,s,a,o=this.get_node(n.parent),d=this._model.data,l=this.settings.checkbox.tie_selection;o&&o.id!==e.jstree.root&&!o.state[l?"selected":"checked"];){for(s=0,r=0,i=o.children.length;i>r;r++)s+=d[o.children[r]].state[l?"selected":"checked"];if(!(i>0&&s===i))break;o.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(o.id),a=this.get_node(o,!0),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),o=this.get_node(o.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var r,i,s,a,o,d=n.is_multi,l=n.old_parent,c=this.get_node(n.parent),h=this._model.data,u=this.settings.checkbox.tie_selection;if(!d)for(r=this.get_node(l);r&&r.id!==e.jstree.root&&!r.state[u?"selected":"checked"];){for(i=0,s=0,a=r.children.length;a>s;s++)i+=h[r.children[s]].state[u?"selected":"checked"];if(!(a>0&&i===a))break;r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),o=this.get_node(r,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=c;r&&r.id!==e.jstree.root;){for(i=0,s=0,a=r.children.length;a>s;s++)i+=h[r.children[s]].state[u?"selected":"checked"];if(i===a)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),o=this.get_node(r,!0),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id),o=this.get_node(r,!0),o&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}},this))},this._undetermined=function(){if(null!==this.element){var n,r,i,s,a={},o=this._model.data,d=this.settings.checkbox.tie_selection,l=this._data[d?"core":"checkbox"].selected,c=[],h=this;for(n=0,r=l.length;r>n;n++)if(o[l[n]]&&o[l[n]].parents)for(i=0,s=o[l[n]].parents.length;s>i&&a[o[l[n]].parents[i]]===t;i++)o[l[n]].parents[i]!==e.jstree.root&&(a[o[l[n]].parents[i]]=!0,c.push(o[l[n]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var d,l=h.get_node(this);if(l.state.loaded){for(n=0,r=l.children_d.length;r>n;n++)if(d=o[l.children_d[n]],!d.state.loaded&&d.original&&d.original.state&&d.original.state.undetermined&&d.original.state.undetermined===!0)for(a[d.id]===t&&d.id!==e.jstree.root&&(a[d.id]=!0,c.push(d.id)),i=0,s=d.parents.length;s>i;i++)a[d.parents[i]]===t&&d.parents[i]!==e.jstree.root&&(a[d.parents[i]]=!0,c.push(d.parents[i]))}else if(l.original&&l.original.state&&l.original.state.undetermined&&l.original.state.undetermined===!0)for(a[l.id]===t&&l.id!==e.jstree.root&&(a[l.id]=!0,c.push(l.id)),i=0,s=l.parents.length;s>i;i++)a[l.parents[i]]===t&&l.parents[i]!==e.jstree.root&&(a[l.parents[i]]=!0,c.push(l.parents[i]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),n=0,r=c.length;r>n;n++)o[c[n]].state[d?"selected":"checked"]||(l=this.get_node(c[n],!0),l&&l.length&&l.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(t,n,i,s){if(t=r.redraw_node.apply(this,arguments)){var a,o,d=null,l=null;for(a=0,o=t.childNodes.length;o>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(d.className+=" jstree-checked"),l=u.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(l.className+=" jstree-checkbox-disabled"),d.insertBefore(l,d.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,r,i=this.settings.checkbox.cascade,s=this.settings.checkbox.tie_selection,a=this._data[s?"core":"checkbox"].selected,o=this._model.data;if(!t||t.state[s?"selected":"checked"]===!0||-1===i.indexOf("undetermined")||-1===i.indexOf("down")&&-1===i.indexOf("up"))return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(n=0,r=t.children_d.length;r>n;n++)if(-1!==e.inArray(t.children_d[n],a)||!o[t.children_d[n]].state.loaded&&o[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.disable_checkbox(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(i=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t})))):!1},this.enable_checkbox=function(t){var n,r,i;if(e.isArray(t)){for(t=t.slice(),n=0,r=t.length;r>n;n++)this.enable_checkbox(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(i=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,i&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t})))):!1},this.activate_node=function(t,n){return e(n.target).hasClass("jstree-checkbox-disabled")?!1:(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,n):this.is_disabled(t)?!1:(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var r,i,s;if(e.isArray(t)){for(t=t.slice(),i=0,s=t.length;s>i;i++)this.check_node(t[i],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(r=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n})))):!1},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var r,i,s;if(e.isArray(t)){for(t=t.slice(),r=0,i=t.length;i>r;r++)this.uncheck_node(t[r],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(s=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),s.length&&s.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n})))):!1},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;n>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):(t=this.get_node(t),t&&t.id!==e.jstree.root?t.state.checked:!1)},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,r,i,s,a=this.get_checked(!0),o={};for(n=0,r=a.length;r>n;n++)o[a[n].id]=a[n];for(n=0,r=a.length;r>n;n++)for(i=0,s=a[n].children_d.length;s>i;i++)o[a[n].children_d[i]]&&delete o[a[n].children_d[i]];a=[];for(n in o)o.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,r,i=this.get_checked(!0),s=[];for(n=0,r=i.length;r>n;n++)i[n].children.length||s.push(i[n].id);return t?e.map(s,e.proxy(function(e){return this.get_node(e)},this)):s},this.load_node=function(t,n){var i,s,a,o;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(o=this.get_node(t),o&&o.state.loaded))for(i=0,s=o.children_d.length;s>i;i++)this._model.data[o.children_d[i]].state.checked&&(a=!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,o.children_d[i]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var i=r.set_state.apply(this,arguments);if(i&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var s=this;e.each(t.checkbox,function(e,t){s.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return i},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){this.settings.conditionalselect.call(this,this.get_node(e),n)&&t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.create_node(r,{},"last",function(e){setTimeout(function(){n.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.delete_node(n.get_selected()):n.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.cut(n.get_top_selected()):n.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.is_selected(r)?n.copy(n.get_top_selected()):n.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),r=n.get_node(t.reference);n.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(n,r){this.bind=function(){r.bind.call(this);var t,n,i=0,s=null;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){e.preventDefault(),i=e.ctrlKey?+new Date:0,(t||s)&&(i=+new Date+1e4),s&&clearTimeout(s),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!i||+new Date-i>250)&&e.vakata.context.hide(),i=0},this)).on("touchstart.jstree",".jstree-anchor",function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.pageX,n=r.pageY,s=setTimeout(function(){e(r.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){s&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.pageX)>50||Math.abs(n-e.pageY)>50)&&clearTimeout(s)}).on("touchend.vakata.jstree",function(e){s&&clearTimeout(s)}),e(c).on("context_hide.vakata.jstree",e.proxy(function(e,t){this._data.contextmenu.visible=!1,t.reference.removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),r.teardown.call(this)},this.show_contextmenu=function(n,r,i,s){if(n=this.get_node(n),!n||n.id===e.jstree.root)return!1;var a=this.settings.contextmenu,o=this.get_node(n,!0),d=o.children(".jstree-anchor"),l=!1,c=!1;(a.show_at_node||r===t||i===t)&&(l=d.offset(),r=l.left,i=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,s),c=a.items,e.isFunction(c)&&(c=c.call(this,n,e.proxy(function(e){this._show_contextmenu(n,r,i,e)},this))),e.isPlainObject(c)&&this._show_contextmenu(n,r,i,c)},this._show_contextmenu=function(t,n,r,i){var s=this.get_node(t,!0),a=s.children(".jstree-anchor");e(c).one("context_show.vakata.jstree",e.proxy(function(t,n){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(r),a.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:r},i),this.trigger("show_contextmenu",{node:t,x:n,y:r})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(c).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return t=n.items[t],t&&(!t._disabled||e.isFunction(t._disabled)&&!t._disabled({item:t,reference:n.reference,element:n.element}))&&t.action?t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}}):!1},_parse:function(t,r){if(!t)return!1;r||(n.html="",n.items=[]);var i,s="",a=!1;return r&&(s+="<ul>"),e.each(t,function(t,r){return r?(n.items.push(r),!a&&r.separator_before&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,s+="<li class='"+(r._class||"")+(r._disabled===!0||e.isFunction(r._disabled)&&r._disabled({item:r,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",s+="<a href='#' rel='"+(n.items.length-1)+"'>",e.vakata.context.settings.icons&&(s+="<i ",r.icon&&(s+=-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?" style='background:url(\""+r.icon+"\") center center no-repeat' ":" class='"+r.icon+"' "),s+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),s+=(e.isFunction(r.label)?r.label({item:t,reference:n.reference,element:n.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&(i=e.vakata.context._parse(r.submenu,!0),i&&(s+=i)),s+="</li>",void(r.separator_after&&(s+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0))):!0}),s=s.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(s+="</ul>"),r||(n.html=s,e.vakata.context._trigger("parse")),s.length>10?s:!1},_show_submenu:function(n){if(n=e(n),n.length&&n.children("ul").length){var r=n.children("ul"),i=n.offset().left,s=i+n.outerWidth(),a=n.offset().top,o=r.width(),d=r.height(),l=e(window).width()+e(window).scrollLeft(),c=e(window).height()+e(window).scrollTop();t?n[s-(o+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[s+o>l&&i>l-s?"addClass":"removeClass"]("vakata-context-right"),a+d+10>c&&r.css("bottom","-1px"),n.hasClass("vakata-context-right")?o>i&&r.css("margin-right",i-o):o>l-s&&r.css("margin-left",l-s-o),r.show()}},show:function(r,i,s){var a,o,d,l,c,h,u,f,p=!0;switch(n.element&&n.element.length&&n.element.width(""),p){case!i&&!r:return!1;case!!i&&!!r:n.reference=r,n.position_x=i.x,n.position_y=i.y;break;case!i&&!!r:n.reference=r,a=r.offset(),n.position_x=a.left+r.outerHeight(),n.position_y=a.top;break;case!!i&&!r:n.position_x=i.x,n.position_y=i.y}r&&!s&&e(r).data("vakata_contextmenu")&&(s=e(r).data("vakata_contextmenu")),e.vakata.context._parse(s)&&n.element.html(n.html),n.items.length&&(n.element.appendTo("body"),o=n.element,d=n.position_x,l=n.position_y,c=o.width(),h=o.height(),u=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(d-=o.outerWidth()-e(r).outerWidth(),d<e(window).scrollLeft()+20&&(d=e(window).scrollLeft()+20)),d+c+20>u&&(d=u-(c+20)),l+h+20>f&&(l=f-(h+20)),n.element.css({left:d,top:l}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var r=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout(function(t){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave));
}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var r=null;switch(t.which){case 13:case 32:t.type="mouseup",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&(r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),r.length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&(r=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),r.length||(r=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(c).on("mousedown.vakata.jstree",function(t){n.is_visible&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,r){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var f,p;e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in c.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),r=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,i=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(i=e.vakata.html.escape(i)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[n],t))){if(f={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:r>1?this.get_top_selected():[n.id]},p=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,f,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+i+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:p,data:f})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:p,data:f}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:p,data:f}),!1},this))},this.redraw_node=function(e,t,r,i){if(e=n.redraw_node.apply(this,arguments),e&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var s,a,o=null;for(s=0,a=e.childNodes.length;a>s;s++)if(e.childNodes[s]&&e.childNodes[s].className&&-1!==e.childNodes[s].className.indexOf("jstree-anchor")){o=e.childNodes[s];break}o&&o.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,r=!1,i=!1,s=!1,a=e('<div id="jstree-marker">&#160;</div>').hide();e(c).on("dnd_start.vakata.jstree",function(e,t){n=!1,i=!1,t&&t.data&&t.data.jstree&&a.appendTo("body")}).on("dnd_move.vakata.jstree",function(o,d){if(s&&(d.event&&"dragover"===d.event.type&&d.event.target===i.target||clearTimeout(s)),d&&d.data&&d.data.jstree&&(!d.event.target.id||"jstree-marker"!==d.event.target.id)){i=d.event;var l,c,h,u,f,p,g,_,m,v,y,b,x,j,w,k=e.jstree.reference(d.event.target),C=!1,T=!1,N=!1;if(k&&k._data&&k._data.dnd)if(a.attr("class","jstree-"+k.get_theme()+(k.settings.core.themes.responsive?" jstree-dnd-responsive":"")),w=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey)),d.helper.children().attr("class","jstree-"+k.get_theme()+" jstree-"+k.get_theme()+"-"+k.get_theme_variant()+" "+(k.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[w?"show":"hide"](),d.event.target!==k.element[0]&&d.event.target!==k.get_container_ul()[0]||0!==k.get_container_ul().children().length){if(C=k.settings.dnd.large_drop_target?e(d.event.target).closest(".jstree-node").children(".jstree-anchor"):e(d.event.target).closest(".jstree-anchor"),C&&C.length&&C.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(T=C.offset(),N=(d.event.pageY!==t?d.event.pageY:d.event.originalEvent.pageY)-T.top,h=C.outerHeight(),p=h/3>N?["b","i","a"]:N>h-h/3?["a","i","b"]:N>h/2?["i","a","b"]:["i","b","a"],e.each(p,function(t,i){switch(i){case"b":l=T.left-6,c=T.top,u=k.get_parent(C),f=C.parent().index();break;case"i":x=k.settings.dnd.inside_pos,j=k.get_node(C.parent()),l=T.left-2,c=T.top+h/2+1,u=j.id,f="first"===x?0:"last"===x?j.children.length:Math.min(x,j.children.length);break;case"a":l=T.left-6,c=T.top+h,u=k.get_parent(C),f=C.parent().index()+1}for(g=!0,_=0,m=d.data.nodes.length;m>_;_++)if(v=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",y=f,"move_node"===v&&"a"===i&&d.data.origin&&d.data.origin===k&&u===k.get_parent(d.data.nodes[_])&&(b=k.get_node(u),y>e.inArray(d.data.nodes[_],b.children)&&(y-=1)),g=g&&(k&&k.settings&&k.settings.dnd&&k.settings.dnd.check_while_dragging===!1||k.check(v,d.data.origin&&d.data.origin!==k?d.data.origin.get_node(d.data.nodes[_]):d.data.nodes[_],u,y,{dnd:!0,ref:k.get_node(C.parent()),pos:i,origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==k,is_foreign:!d.data.origin})),!g){k&&k.last_error&&(r=k.last_error());break}return"i"===i&&C.parent().is(".jstree-closed")&&k.settings.dnd.open_timeout&&(s=setTimeout(function(e,t){return function(){e.open_node(t)}}(k,C),k.settings.dnd.open_timeout)),g?(n={ins:k,par:u,pos:"i"!==i||"last"!==x||0!==f||k.is_loaded(j)?f:"last"},a.css({left:l+"px",top:c+"px"}).show(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"),r={},p=!0,!1):void 0}),p===!0))return}else{for(g=!0,_=0,m=d.data.nodes.length;m>_&&(g=g&&k.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==k?d.data.origin.get_node(d.data.nodes[_]):d.data.nodes[_],e.jstree.root,"last",{dnd:!0,ref:k.get_node(e.jstree.root),pos:"i",origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==k,is_foreign:!d.data.origin}));_++);if(g)return n={ins:k,par:e.jstree.root,pos:"last"},a.hide(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=w?"copy":"move"))}n=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect="none"),a.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(a.hide(),n=!1,i=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,o){if(s&&clearTimeout(s),o&&o.data&&o.data.jstree){a.hide().detach();var d,l,c=[];if(n){for(d=0,l=o.data.nodes.length;l>d;d++)c[d]=o.data.origin?o.data.origin.get_node(o.data.nodes[d]):o.data.nodes[d];n.ins[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(o.event.metaKey||o.event.ctrlKey))?"copy_node":"move_node"](c,n.par,n.pos,!1,!1,!1,o.data.origin)}else d=e(o.event.target).closest(".jstree"),d.length&&r&&r.error&&"check"===r.error&&(d=d.jstree(!0),d&&d.settings.core.error.call(this,r));i=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,o){o=e.vakata.dnd._get(),o&&o.data&&o.data.jstree&&("keyup"===t.type&&27===t.which?(s&&clearTimeout(s),n=!1,r=!1,i=!1,s=!1,a.hide().detach(),e.vakata.dnd._clean()):(o.helper.find(".jstree-copy").first()[o.data.origin&&(o.data.origin.settings.dnd.always_copy||o.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),i&&(i.metaKey=t.metaKey,i.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",i))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(n,r,i){i===t&&(i=e.vakata.dnd._get()),i.event=r,e(c).triggerHandler("dnd_"+n+".vakata",i)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(c).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(t===!0)return!1;var r=n.scroll_e.scrollTop(),i=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(r+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(i+n.scroll_l*e.vakata.dnd.settings.scroll_speed),(r!==n.scroll_e.scrollTop()||i!==n.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,r,i){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(s){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=r,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,i!==!1&&(n.helper=e("<div id='vakata-dnd'></div>").html(i).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(c).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(c).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo("body"),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e.vakata.dnd._trigger("start",t)}var r=!1,i=!1,s=!1,a=!1,o=!1,d=!1,l=!1,h=!1,u=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var r=e(this),i=r.offset();return this.scrollHeight>this.offsetHeight&&(i.top+r.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-i.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(i.left+r.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-i.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l?(n.scroll_e=e(this),!1):void 0}),n.scroll_e||(r=e(c),i=e(window),s=r.height(),a=i.height(),o=r.width(),d=i.width(),l=r.scrollTop(),h=r.scrollLeft(),s>a&&t.pageY-l<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),s>a&&a-(t.pageY-l)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),o>d&&t.pageX-h<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),o>d&&d-(t.pageX-h)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=r)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),s&&u+25>s&&(u=s-50),o&&f+n.helper_w>o&&(f=o-(n.helper_w+2)),n.helper.css({left:f+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=c.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var r=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){r&&clearTimeout(r)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,r,i,s){var a,o,d,l=this.settings.massload,c=(JSON.stringify(t),[]),h=this._model.data;if(!i){for(a=0,o=t.length;o>a;a++)(!h[t[a]]||!h[t[a]].state.loaded&&!h[t[a]].state.failed||s)&&(c.push(t[a]),d=this.get_node(t[a],!0),d&&d.length&&d.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},c.length){if(e.isFunction(l))return l.call(this,c,e.proxy(function(e){var a,o;if(e)for(a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);for(a=0,o=t.length;o>a;a++)d=this.get_node(t[a],!0),d&&d.length&&d.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,s)},this));if("object"==typeof l&&l&&l.url)return l=e.extend(!0,{},l),e.isFunction(l.url)&&(l.url=l.url.call(this,c)),e.isFunction(l.data)&&(l.data=l.data.call(this,c)),e.ajax(l).done(e.proxy(function(e,a,o){var l,c;if(e)for(l in e)e.hasOwnProperty(l)&&(this._data.massload[l]=e[l]);for(l=0,c=t.length;c>l;l++)d=this.get_node(t[l],!0),d&&d.length&&d.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,r,i,s)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,r,i,s)},this))}}return n._load_nodes.call(this,t,r,i,s)},this._load_node=function(t,r){var i,s=this._data.massload[t.id],a=null;return s?(a=this["string"==typeof s?"_append_html_data":"_append_json_data"](t,"string"==typeof s?e(e.parseHTML(s)).filter(function(){return 3!==this.nodeType}):s,function(e){r.call(this,e)}),i=this.get_node(t.id,!0),i&&i.length&&i.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],a):n._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var r,i,s=this._model.data,a=[];for(r=0,i=n.res.length;i>r;r++)s[n.res[r]]&&!s[n.res[r]].state.hidden&&(a.push(n.res[r]),a=a.concat(s[n.res[r]].parents),this._data.search.smc&&(a=a.concat(s[n.res[r]].children_d)));a=e.vakata.array_remove_item(e.vakata.array_unique(a),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(a,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,r,i,s,a,o){if(n===!1||""===e.trim(n.toString()))return this.clear_search();s=this.get_node(s),s=s&&s.id?s.id:null,n=n.toString();var d,l,c=this.settings.search,h=c.ajax?c.ajax:!1,u=this._model.data,f=null,p=[],g=[];if(this._data.search.res.length&&!a&&this.clear_search(),i===t&&(i=c.show_only_matches),o===t&&(o=c.show_only_matches_children),!r&&h!==!1)return e.isFunction(h)?h.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,i,s,a)})},this),s):(h=e.extend({},h),h.data||(h.data={}),h.data.str=n,s&&(h.data.inside=s),e.ajax(h).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(h)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,i,s,a)})},this)));if(a||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=i,this._data.search.smc=o),f=new e.vakata.search(n,!0,{caseSensitive:c.case_sensitive,fuzzy:c.fuzzy}),e.each(u[s?s:e.jstree.root].children_d,function(e,t){var r=u[t];r.text&&(!c.search_leaves_only||r.state.loaded&&0===r.children.length)&&(c.search_callback&&c.search_callback.call(this,n,r)||!c.search_callback&&f.search(r.text).isMatch)&&(p.push(t),g=g.concat(r.parents))}),p.length){for(g=e.vakata.array_unique(g),d=0,l=g.length;l>d;d++)g[d]!==e.jstree.root&&u[g[d]]&&this.open_node(g[d],null,0)===!0&&this._data.search.opn.push(g[d]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:i})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,i,s){if(t=r.redraw_node.apply(this,arguments),t&&-1!==e.inArray(t.id,this._data.search.res)){var a,o,d=null;for(a=0,o=t.childNodes.length;o>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){d=t.childNodes[a];break}d&&(d.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,r){r=r||{},r=e.extend({},e.vakata.search.defaults,r),r.fuzzy!==!1&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var i,s,a,o,d=r.location,l=r.distance,c=r.threshold,h=t.length;return h>32&&(r.fuzzy=!1),r.fuzzy&&(i=1<<h-1,s=function(){var e={},n=0;for(n=0;h>n;n++)e[t.charAt(n)]=0;for(n=0;h>n;n++)e[t.charAt(n)]|=1<<h-n-1;return e}(),a=function(e,t){var n=e/h,r=Math.abs(d-t);return l?n+r/l:r?1:n}),o=function(e){if(e=r.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var n,o,l,u,f,p,g,_,m,v=e.length,y=c,b=e.indexOf(t,d),x=h+v,j=1,w=[];for(-1!==b&&(y=Math.min(a(0,b),y),b=e.lastIndexOf(t,d+h),-1!==b&&(y=Math.min(a(0,b),y))),b=-1,n=0;h>n;n++){for(l=0,u=x;u>l;)a(n,d+u)<=y?l=u:x=u,u=Math.floor((x-l)/2+l);for(x=u,p=Math.max(1,d-u+1),g=Math.min(d+u,v)+h,_=new Array(g+2),_[g+1]=(1<<n)-1,o=g;o>=p;o--)if(m=s[e.charAt(o-1)],0===n?_[o]=(_[o+1]<<1|1)&m:_[o]=(_[o+1]<<1|1)&m|((f[o+1]|f[o])<<1|1)|f[o+1],_[o]&i&&(j=a(n,o-1),y>=j)){if(y=j,b=o-1,w.push(b),!(b>d))break;p=Math.max(1,2*d-b)}if(a(n+1,d)>y)break;f=_}return{isMatch:b>=0,score:j}},n===!0?{search:o}:o(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var r,i;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(r=0,i=t.children_d.length;i>r;r++)this.sort(t.children_d[r],!1)}};var g=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){g&&clearTimeout(g),g=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(n){return!1}return t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl?!1:(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),t?(this.element.one("set_state.jstree",function(n,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0):!1)},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={"default":{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,r){this.init=function(n,i){var s,a;if(i&&i.types&&i.types["default"])for(s in i.types)if("default"!==s&&s!==e.jstree.root&&i.types.hasOwnProperty(s))for(a in i.types["default"])i.types["default"].hasOwnProperty(a)&&i.types[s][a]===t&&(i.types[s][a]=i.types["default"][a]);r.init.call(this,n,i),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){r.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,r){var i,s,a,o=this._model.data,d=r.nodes,l=this.settings.types,c="default";for(i=0,s=d.length;s>i;i++){if(c="default",o[d[i]].original&&o[d[i]].original.type&&l[o[d[i]].original.type]&&(c=o[d[i]].original.type),o[d[i]].data&&o[d[i]].data.jstree&&o[d[i]].data.jstree.type&&l[o[d[i]].data.jstree.type]&&(c=o[d[i]].data.jstree.type),o[d[i]].type=c,o[d[i]].icon===!0&&l[c].icon!==t&&(o[d[i]].icon=l[c].icon),l[c].li_attr!==t&&"object"==typeof l[c].li_attr)for(a in l[c].li_attr)if(l[c].li_attr.hasOwnProperty(a)){if("id"===a)continue;o[d[i]].li_attr[a]===t?o[d[i]].li_attr[a]=l[c].li_attr[a]:"class"===a&&(o[d[i]].li_attr["class"]=l[c].li_attr["class"]+" "+o[d[i]].li_attr["class"])}if(l[c].a_attr!==t&&"object"==typeof l[c].a_attr)for(a in l[c].a_attr)if(l[c].a_attr.hasOwnProperty(a)){if("id"===a)continue;o[d[i]].a_attr[a]===t?o[d[i]].a_attr[a]=l[c].a_attr[a]:"href"===a&&"#"===o[d[i]].a_attr[a]?o[d[i]].a_attr.href=l[c].a_attr.href:"class"===a&&(o[d[i]].a_attr["class"]=l[c].a_attr["class"]+" "+o[d[i]].a_attr["class"])}}o[e.jstree.root].type=e.jstree.root},this)),r.bind.call(this)},this.get_json=function(t,n,i){var s,a,o=this._model.data,d=n?e.extend(!0,{},n,{no_id:!1}):{},l=r.get_json.call(this,t,d,i);if(l===!1)return!1;if(e.isArray(l))for(s=0,a=l.length;a>s;s++)l[s].type=l[s].id&&o[l[s].id]&&o[l[s].id].type?o[l[s].id].type:"default",n&&n.no_id&&(delete l[s].id,l[s].li_attr&&l[s].li_attr.id&&delete l[s].li_attr.id,l[s].a_attr&&l[s].a_attr.id&&delete l[s].a_attr.id);else l.type=l.id&&o[l.id]&&o[l.id].type?o[l.id].type:"default",n&&n.no_id&&(l=this._delete_ids(l));return l},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,r=t.length;r>n;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,i,s,a,o){if(r.check.call(this,n,i,s,a,o)===!1)return!1;i=i&&i.id?i:this.get_node(i),s=s&&s.id?s:this.get_node(s);var d,l,c,h,u=i&&i.id?o&&o.origin?o.origin:e.jstree.reference(i.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(i.id,s.children)){if(d=this.get_rules(s),d.max_children!==t&&-1!==d.max_children&&d.max_children===s.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:i&&i.id?i.id:!1,par:s&&s.id?s.id:!1})},!1;if(d.valid_children!==t&&-1!==d.valid_children&&-1===e.inArray(i.type||"default",d.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:i&&i.id?i.id:!1,par:s&&s.id?s.id:!1})},!1;if(u&&i.children_d&&i.parents){for(l=0,c=0,h=i.children_d.length;h>c;c++)l=Math.max(l,u[i.children_d[c]].parents.length);l=l-i.parents.length+1}(0>=l||l===t)&&(l=1);do{if(d.max_depth!==t&&-1!==d.max_depth&&d.max_depth<l)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:i&&i.id?i.id:!1,par:s&&s.id?s.id:!1})},!1;s=this.get_node(s.parent),d=this.get_rules(s),l++}while(s)}}return!0},this.get_rules=function(e){if(e=this.get_node(e),!e)return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return t=this.get_node(t),t?n?e.extend({type:t.type},this.settings.types[t.type]):t.type:!1},this.set_type=function(n,r){var i,s,a,o,d,l,c,h,u=this._model.data;if(e.isArray(n)){for(n=n.slice(),s=0,a=n.length;a>s;s++)this.set_type(n[s],r);return!0}if(i=this.settings.types,n=this.get_node(n),!i[r]||!n)return!1;if(c=this.get_node(n,!0),c&&c.length&&(h=c.children(".jstree-anchor")),o=n.type,d=this.get_icon(n),n.type=r,(d===!0||i[o]&&i[o].icon!==t&&d===i[o].icon)&&this.set_icon(n,i[r].icon!==t?i[r].icon:!0),i[o].li_attr!==t&&"object"==typeof i[o].li_attr)for(l in i[o].li_attr)if(i[o].li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(u[n.id].li_attr["class"]=(u[n.id].li_attr["class"]||"").replace(i[o].li_attr[l],""),c&&c.removeClass(i[o].li_attr[l])):u[n.id].li_attr[l]===i[o].li_attr[l]&&(u[n.id].li_attr[l]=null,c&&c.removeAttr(l))}if(i[o].a_attr!==t&&"object"==typeof i[o].a_attr)for(l in i[o].a_attr)if(i[o].a_attr.hasOwnProperty(l)){if("id"===l)continue;"class"===l?(u[n.id].a_attr["class"]=(u[n.id].a_attr["class"]||"").replace(i[o].a_attr[l],""),h&&h.removeClass(i[o].a_attr[l])):u[n.id].a_attr[l]===i[o].a_attr[l]&&("href"===l?(u[n.id].a_attr[l]="#",h&&h.attr("href","#")):(delete u[n.id].a_attr[l],h&&h.removeAttr(l)))}if(i[r].li_attr!==t&&"object"==typeof i[r].li_attr)for(l in i[r].li_attr)if(i[r].li_attr.hasOwnProperty(l)){if("id"===l)continue;u[n.id].li_attr[l]===t?(u[n.id].li_attr[l]=i[r].li_attr[l],c&&("class"===l?c.addClass(i[r].li_attr[l]):c.attr(l,i[r].li_attr[l]))):"class"===l&&(u[n.id].li_attr["class"]=i[r].li_attr[l]+" "+u[n.id].li_attr["class"],c&&c.addClass(i[r].li_attr[l]))}if(i[r].a_attr!==t&&"object"==typeof i[r].a_attr)for(l in i[r].a_attr)if(i[r].a_attr.hasOwnProperty(l)){if("id"===l)continue;u[n.id].a_attr[l]===t?(u[n.id].a_attr[l]=i[r].a_attr[l],h&&("class"===l?h.addClass(i[r].a_attr[l]):h.attr(l,i[r].a_attr[l]))):"href"===l&&"#"===u[n.id].a_attr[l]?(u[n.id].a_attr.href=i[r].a_attr.href,h&&h.attr("href",i[r].a_attr.href)):"class"===l&&(u[n.id].a_attr["class"]=i[r].a_attr["class"]+" "+u[n.id].a_attr["class"],h&&h.addClass(i[r].a_attr[l]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,
duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,r){this.check=function(t,n,i,s,a){if(r.check.call(this,t,n,i,s,a)===!1)return!1;if(n=n&&n.id?n:this.get_node(n),i=i&&i.id?i:this.get_node(i),!i||!i.children)return!0;var o,d,l="rename_node"===t?s:n.text,c=[],h=this.settings.unique.case_sensitive,u=this._model.data;for(o=0,d=i.children.length;d>o;o++)c.push(h?u[i.children[o]].text:u[i.children[o]].text.toLowerCase());switch(h||(l=l.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return o=-1===e.inArray(l,c)||n.text&&n.text[h?"toString":"toLowerCase"]()===l,o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:n&&n.id?n.id:!1,par:i&&i.id?i.id:!1})}),o;case"create_node":return o=-1===e.inArray(l,c),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:n&&n.id?n.id:!1,par:i&&i.id?i.id:!1})}),o;case"copy_node":return o=-1===e.inArray(l,c),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:n&&n.id?n.id:!1,par:i&&i.id?i.id:!1})}),o;case"move_node":return o=n.parent===i.id&&(!a||!a.is_multi)||-1===e.inArray(l,c),o||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+l+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:s,obj:n&&n.id?n.id:!1,par:i&&i.id?i.id:!1})}),o}return!0},this.create_node=function(n,i,s,a,o){if(!i||i.text===t){if(null===n&&(n=e.jstree.root),n=this.get_node(n),!n)return r.create_node.call(this,n,i,s,a,o);if(s=s===t?"last":s,!s.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(n))return r.create_node.call(this,n,i,s,a,o);i||(i={});var d,l,c,h,u,f=this._model.data,p=this.settings.unique.case_sensitive,g=this.settings.unique.duplicate;for(l=d=this.get_string("New node"),c=[],h=0,u=n.children.length;u>h;h++)c.push(p?f[n.children[h]].text:f[n.children[h]].text.toLowerCase());for(h=1;-1!==e.inArray(p?l:l.toLowerCase(),c);)l=g.call(this,d,++h).toString();i.text=l}return r.create_node.call(this,n,i,s,a,o)}};var _=c.createElement("DIV");if(_.setAttribute("unselectable","on"),_.setAttribute("role","presentation"),_.className="jstree-wholerow",_.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,r,i=!1;for(n=0,r=t.selected.length;r>n;n++)i=this.get_node(t.selected[n],!0),i&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,r,i,s){if(t=n.redraw_node.apply(this,arguments)){var a=_.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},c.registerElement&&Object&&Object.create){var m=Object.create(HTMLElement.prototype);m.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{c.registerElement("vakata-jstree",{prototype:m})}catch(v){}}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,s;for(s=0;null!=(i=n[s]);s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,a,o,d={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[l]=e[l]||{},s=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(r,function(t,r){return e.isFunction(r)?void(d[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=s,t}}()):void(d[t]=r)}),a.prototype=e.widget.extend(o,{widgetEventPrefix:s?o.widgetEventPrefix||t:t},d,{constructor:a,namespace:l,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete s._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var r,i,s=n.call(arguments,1),a=0,o=s.length;o>a;a++)for(r in s[a])i=s[a][r],s[a].hasOwnProperty(r)&&void 0!==i&&(e.isPlainObject(i)?t[r]=e.isPlainObject(t[r])?e.widget.extend({},t[r],i):e.widget.extend({},i):t[r]=i);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(s){var a="string"==typeof s,o=n.call(arguments,1),d=this;return a?this.each(function(){var n,r=e.data(this,i);return"instance"===s?(d=r,!1):r?e.isFunction(r[s])&&"_"!==s.charAt(0)?(n=r[s].apply(r,o),n!==r&&void 0!==n?(d=n&&n.jquery?d.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):(o.length&&(s=e.widget.extend.apply(null,[s].concat(o))),this.each(function(){var t=e.data(this,i);t?(t.option(s||{}),t._init&&t._init()):e.data(this,i,new r(s,this))})),d}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,s,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},r=t.split("."),t=r.shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),s=0;s<r.length-1;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function o(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?s[a]:a).apply(s,arguments):void 0}"string"!=typeof a&&(o.guid=a.guid=a.guid||o.guid||e.guid++);var d=r.match(/^([\w:-]*)\s*(.*)$/),l=d[1]+s.eventNamespace,c=d[2];c?i.delegate(c,l,o):n.bind(l,o)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var a,o=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[o]?r[t](i):o!==t&&r[o]?r[o](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&-1!==e.inArray("Files",i.types)&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){return t.isDefaultPrevented()?!1:void((n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r,i=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&i-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=i,r=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=r-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=r,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(i,r,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,r=this,i=t.files[0],s=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),s&&!t.blob&&this._isInstanceOf("File",i)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"'),s?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,function(r,i){n.push({name:"array"===e.type(t.paramName)&&t.paramName[r]||a,value:i})})):(r._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(a,t.blob,i.name):e.each(t.files,function(i,s){(r._isInstanceOf("File",s)||r._isInstanceOf("Blob",s))&&n.append("array"===e.type(t.paramName)&&t.paramName[i]||a,s,s.uploadName||s.name)})),t.data=n):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),s=i.promise();return n=n||this.options.context||s,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),s.abort=i.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,s){return(t||s)&&(n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,s)),this._processQueue||i([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r,i,s=this,a=t.files[0],o=a.size,d=t.uploadedBytes,l=t.maxChunkSize||o,c=this._blobSlice,h=e.Deferred(),u=h.promise();return this._isXHRUpload(t)&&c&&(d||o>l)&&!t.data?n?!0:d>=o?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(i=function(){var n=e.extend({},t),u=n._progress.loaded;n.blob=c.call(a,d,d+l,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+d+"-"+(d+n.chunkSize-1)+"/"+o,s._initXHRData(n),s._initProgressListener(n),r=(s._trigger("chunksend",null,n)!==!1&&e.ajax(n)||s._getXHRPromise(!1,n.context)).done(function(r,a,l){d=s._getUploadedBytes(l)||d+n.chunkSize,u+n.chunkSize-n._progress.loaded&&s._onProgress(e.Event("progress",{lengthComputable:!0,loaded:d-n.uploadedBytes,total:d-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=d,n.result=r,n.textStatus=a,n.jqXHR=l,s._trigger("chunkdone",null,n),s._trigger("chunkalways",null,n),o>d?i():h.resolveWith(n.context,[r,a,l])}).fail(function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,s._trigger("chunkfail",null,n),s._trigger("chunkalways",null,n),h.rejectWith(n.context,[e,t,r])})},this._enhancePromise(u),u.abort=function(){return r.abort()},i(),u):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var s=i._progress.total,a=i._response;i._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),i),a.result=i.result=t,a.textStatus=i.textStatus=n,a.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r,i,s,a,o=this,d=o._getAJAXSettings(n),l=function(){return o._sending+=1,d._bitrateTimer=new o._BitrateTimer,r=r||((i||o._trigger("send",e.Event("send",{delegatedEvent:t}),d)===!1)&&o._getXHRPromise(!1,d.context,i)||o._chunkedUpload(d)||e.ajax(d)).done(function(e,t,n){o._onDone(e,t,n,d)}).fail(function(e,t,n){o._onFail(e,t,n,d)}).always(function(e,t,n){if(o._onAlways(e,t,n,d),o._sending-=1,o._active-=1,d.limitConcurrentUploads&&d.limitConcurrentUploads>o._sending)for(var r=o._slots.shift();r;){if("pending"===o._getDeferredState(r)){r.resolve();break}r=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,d),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(s=e.Deferred(),this._slots.push(s),a=s.pipe(l)):(this._sequence=this._sequence.pipe(l,l),a=this._sequence),a.abort=function(){return i=[void 0,"abort","abort"],r?r.abort():(s&&s.rejectWith(d.context,i),l())},this._enhancePromise(a)):l()},_onAdd:function(t,n){var r,i,s,a,o=this,d=!0,l=e.extend({},this.options,n),c=n.files,h=c.length,u=l.limitMultiFileUploads,f=l.limitMultiFileUploadSize,p=l.limitMultiFileUploadSizeOverhead,g=0,_=this._getParamName(l),m=0;if(!h)return!1;if(f&&void 0===c[0].size&&(f=void 0),(l.singleFileUploads||u||f)&&this._isXHRUpload(l))if(l.singleFileUploads||f||!u)if(!l.singleFileUploads&&f)for(s=[],r=[],a=0;h>a;a+=1)g+=c[a].size+p,(a+1===h||g+c[a+1].size+p>f||u&&a+1-m>=u)&&(s.push(c.slice(m,a+1)),i=_.slice(m,a+1),i.length||(i=_),r.push(i),m=a+1,g=0);else r=_;else for(s=[],r=[],a=0;h>a;a+=u)s.push(c.slice(a,a+u)),i=_.slice(a,a+u),i.length||(i=_),r.push(i);else s=[c],r=[_];return n.originalFiles=c,e.each(s||c,function(i,a){var l=e.extend({},n);return l.files=s?a:[a],l.paramName=r[i],o._initResponseObject(l),o._initProgressObject(l),o._addConvenienceMethods(t,l),d=o._trigger("add",e.Event("add",{delegatedEvent:t}),l)}),d},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0),i=n.is(document.activeElement);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),i&&r.focus(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r,i=this,s=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),s.resolve([e])},o=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){s.resolve(e)}).fail(a)},d=function(){r.readEntries(function(e){e.length?(l=l.concat(e),d()):o(l)},a)},l=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,s.resolve(t._file)):t.file(function(e){e.relativePath=n,s.resolve(e)},a):t.isDirectory?(r=t.createReader(),d()):s.resolve([]),s.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,r,i=t.prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=-1!==e.inArray(t,this._specialOptions);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=this.element.data();e.each(this.element[0].attributes,function(e,i){var s,a=i.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),s=r[a],t._isRegExpOption(a,s)&&(s=t._getRegExp(s)),n[a]=s)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,s=e.Deferred(),a=s.promise();return a.abort=function(){return r=!0,n?n.abort():(s.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){if(!r){if(!e.length)return void s.reject();t.files=e,n=i._onSend(null,t),n.then(function(e,t,n){s.resolve(e,t,n)},function(e,t,n){s.reject(e,t,n)})}}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):"object"==typeof exports?t(exports):(e.lski=e.lski||{},t(e.lski.request={}))}(this,function(e){"use strict";function t(e){return"function"==typeof e&&!!e.call}function n(e){return e instanceof Array}function r(e){return e instanceof Date}function i(e){e=e||{};for(var t=1;t<arguments.length;t++){var s=arguments[t];if(s)for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){var o=s[a];null===o||"object"!=typeof o||r(o)||n(o)?e[a]=o:e[a]=i(e[a],o)}}return e}function s(e,t){return"string"==typeof t&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)/.test(t)?new Date(Date.parse(t)):t}function a(e,t){return"string"==typeof t&&t.match("^/Date\\((\\d+)\\)/$")?new Date(parseInt(t.replace(/\/Date\((-?\d+)\)\//,"$1"))):t}function o(e,t){return i({},e,t)}function d(e){return"string"==typeof e?e:JSON.stringify(e)}function l(e,t){return""===e||null==e?null:JSON.parse(e,t.jsonReviver)}function c(e,n,r,i){return new Promise(function(s,a){var o=r.createRequest();o.open(n,e,!0);for(var d in r.headers||{})if(Object.prototype.hasOwnProperty.call(r.headers,d)){var l=t(r.headers[d])?r.headers[d](r):r.headers[d];l&&o.setRequestHeader(d,l)}o.readyState?o.onreadystatechange=function(){4===o.readyState&&s(u(o,r))}:o.onload=function(){s(u(o,r))},o.onerror=function(){a(f(null,"Network",o,r));
},r.timeout&&!isNaN(r.timeout)&&(o.timeout=r.timeout,o.ontimeout=function(){a(f(null,"Timeout",o,r))}),r.beforeSend&&t(r.beforeSend)&&r.beforeSend(o,r),o.send(i)})}function h(){return new XMLHttpRequest}function u(e,t){return{status:1223===e.status?204:e.status,statusText:1223===e.status?"No Content":e.statusText,data:e.responseText,options:t,xhr:e}}function f(e,t,n,r){var i=new Error(t);return i.status=e,i.statusText=t,i.xhr=n,i.options=r,i}var p={JSON:1,TEXT:null};e.dataTypes={JSON:p.JSON,TEXT:p.TEXT},e.options={headers:{"content-type":"application/json",accept:function(e){return e.dataType===p.JSON?"application/json, text/json":void 0}},beforeSend:null,rejectOnStatusCode:!1,timeout:null,dataOnly:!1,dataType:p.JSON,jsonReviver:null,createRequest:h},e.utils={merge:i,isFunction:t,isDate:r,isArray:n,json:{iso8601Reviver:s,msDateReviver:a}},e.send=function(t,n,r,i){var s=o(e.options,i),a=c(t,n,s,d(r));return s.rejectOnStatusCode&&(a=a.then(function(e){return e.status<200||e.status>399?Promise.reject(f(e.status,e.statusText,e.xhr,e.options)):e})),s.dataType===p.JSON&&(a=a.then(function(e){return e.data=l(e.data,e.options),e})),s.dataOnly&&(a=a.then(function(e){return e.data})),a},e.get=function(t,n){return e.send(t,"GET",void 0,n)},e.post=function(t,n,r){return e.send(t,"POST",n,r)},e.put=function(t,n,r){return e.send(t,"PUT",n,r)},e.del=e["delete"]=function(t,n){return e.send(t,"DELETE",void 0,n)}}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],function(){return(e.lski=e.lski||{}).events=t()}):"object"==typeof module&&module.exports?module.exports=t():(e.lski=e.lski||{}).events=t()}(this,function(){"use strict";function e(){return 3===arguments.length||4===arguments.length&&null==arguments[2]?t(arguments[0],arguments[1],4===arguments.length?arguments[3]:arguments[2]):4===arguments.length?n.apply(this,arguments):void 0}function t(e,t,n){var r=o(t);return d(e,function(e){for(var t=function(t){t.delegateTarget=t.currentTarget,n.apply(e,arguments)},i=0,s=r.length;s>i;i++)f.add(e,r[i],n,t),e.addEventListener(r[i],t,!1);return e})}function n(e,t,n,r){var i=o(t);return d(e,function(e){for(var t=function(t){t.delegateTarget=t.currentTarget;var i=t.target||t.srcElement,s=l(e,i,n);s&&r.apply(s,arguments)},s=0,a=i.length;a>s;s++)f.add(e,i[s],r,t),e.addEventListener(i[s],t,!1)})}function r(e,t,n){var r=o(t);return d(e,function(e){for(var i=function(){n.apply(this,arguments),c.off(e,t,i)},s=0;s<r.length;s++)f.add(e,r[s],n,i),e.addEventListener(r[s],i,!1)})}function i(e,t,n){var r=o(t);return d(e,function(e){for(var t=0;t<r.length;t++){var i=f.find(e,r[t],n);i?(e.removeEventListener(r[t],i.wrapper,!1),f.remove(i)):e.removeEventListener(r[t],n,!1)}})}function s(e,t,n){n={bubbles:!0,cancelable:!0,detail:n};var r;return r=t.type&&void 0!==t.cancelBubble?[t]:o(t,function(e){return e.type&&void 0!==e.cancelBubble?e:h(e,n)}),d(e,function(e){for(var t=0;t<r.length;t++)e.dispatchEvent(r[t])})}function a(e,t){return(t||document).querySelectorAll(e)}function o(e,t){for(var n="string"==typeof e?e.split(" "):e,r="function"==typeof t,i=[],s=0,a=n.length;a>s;s++){var o=n[s];"string"==typeof o&&(o=o.trim()),o&&(r&&(o=t(o,s,n)),o&&i.push(o))}return i}function d(e,t){var n="string"==typeof e?a(e):e.length?e:[e],r="function"==typeof t;if(r)for(var i=0,s=n.length;s>i;i++)t(n[i],i);return n}function l(e,t,n){if(e==t)return null;var r=u(t,n);return r?t:t.parentElement?l(e,t.parentElement,n):null}var c={add:e,on:e,once:r,one:r,remove:i,off:i,fire:s,trigger:s,query:a},h=function(){var e;if("function"==typeof window.CustomEvent)e=window.CustomEvent;else{var t=function(e){var t={bubbles:!1,cancelable:!1,detail:void 0};return e&&(t.bubbles=void 0===e.bubbles?t.bubbles:!!e.bubbles,t.cancelable=void 0===e.cancelable?t.cancelable:!!e.cancelable,t.detail=e.detail),t};e=document.createEvent?function(e,n){n=t(n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}:function(e,n){n=t(n);var r=document.createEventObject();return r.type=e,r.detail=n.detail,r},e.prototype=window.Event.prototype}return function(t,n){return new e(t,n)}}(),u=function(){var e=Element.prototype,t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){for(var t=this,n=a(e,t.parentNode),r=n.length;--r>=0&&n.item(r)!==t;);return r>-1};return function(e,n){return t.call(e,n)}}(),f=function(){function e(){this._listeners=[]}function t(e,t,n,r){return this._listeners.push({element:e,eventName:t,wrapper:r,original:n})}function n(e){for(var t=0,n=this._listeners.length;n>t;t++)if(e===this._listeners[t])return this._listeners.splice(t,1),!0;return!1}function r(e,t,n){for(var r=0,i=this._listeners.length;i>r;r++){var s=this._listeners[r];if(s.element===e&&s.eventName===t&&s.original===n)return s}return null}return e.prototype.add=t,e.prototype.remove=n,e.prototype.find=r,new e}();return String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),c}),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):(e.lski=e.lski||{},e.lski.alerts=t())}(this,function(){var e={alert:function(e,t){setTimeout(function(){window.alert(e),"function"==typeof t&&t()},1)},confirm:function(e,t){setTimeout(function(){t(window.confirm(e))},1)}};return e});
//# sourceMappingURL=../maps/lib/infrastructure.js.map
