"use strict";var React=React,ReactDOM=ReactDOM,$=jQuery,ctx=ctx,messages=lski.messages,BrowserUpload=React.createClass({displayName:"BrowserUpload",propTypes:{uploadFolder:React.PropTypes.string.isRequired,onFileAdded:React.PropTypes.func.isRequired},componentDidMount:function(){var e=this;$(this.refs.input).fileupload({url:ctx.resolveApi("/api/browser/upload")}).on("fileuploadadd",function(a,s){var r=e.props.uploadFolder;r&&(s.formData={path:r},s.submit())}).on("fileuploaddone",function(){e.props.onFileAdded()}).on("fileuploadfail",function(e,a){try{messages.alert(JSON.parse(a.xhr().responseText).message)}catch(s){messages.alert("There was an error uploading the file")}})},render:function(){return React.createElement("input",{ref:"input",type:"file",name:"posted",style:{display:"none"}})}});
//# sourceMappingURL=../maps/app/browser-upload.js.map
