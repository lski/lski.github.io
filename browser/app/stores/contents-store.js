"use strict";var dispatcher=dispatcher,constants=constants,MicroEvent=MicroEvent,folderStore=folderStore,ctx=ctx,assign=Object.assign,contentsStore=function(){function t(){var t=folderStore.getSelected();t&&ctx.getFolderContents(t.path).then(function(t){contentsStore.set(t)})}function e(e){switch(e.action){case constants.FOLDERS_LOADED:dispatcher.waitFor([folderStore.dispatchToken]),t();break;case constants.SELECTED_ITEM_CHANGED:contentsStore.setSelectedItem(e.data);break;case constants.SELECTED_FOLDER_CHANGED:dispatcher.waitFor([folderStore.dispatchToken]),t();break;case constants.NEW_ITEM_ADDED:t();break;case constants.ITEM_DELETED:t()}}var n=[],s=null,c={},o=dispatcher.register(e);return MicroEvent.mixin(c),{dispatchToken:o,get:function(){return n},getSelected:function(){return s},set:function(t){n=t,s=null,c.trigger(constants.CHANGE)},setSelectedItem:function(t){s!=t&&(s=assign({},t),c.trigger(constants.CHANGE))},trigger:function(){c.trigger(constants.CHANGE)},addListener:function(t){c.bind(constants.CHANGE,t)},removeListener:function(t){c.unbind(constants.CHANGE,t)}}}();
//# sourceMappingURL=../../maps/app/stores/contents-store.js.map
