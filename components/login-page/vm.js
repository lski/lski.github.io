"use strict";!function(e){"function"==typeof define&&define.amd&&define(["text!./view.html","knockout","lib/auth","app/data-context-auth"],e)}(function(e,n,t,i,s){function r(){var e=this;this.model=new a,this.message=n.observable(),this.running=n.observable(!1),e.submit=function(n){e.running(!0);var s=i.login(this.email(),this.password());s.then(function(n){t.login(n.access_token,{},n.expires_in),t.transferRedirect(),e.message(null)})["catch"](function(n){try{var t=JSON.parse(n.xhr.responseText);e.message(t.error_description||t.message)}catch(i){e.message("Sorry an error occured, please contact your administrator")}}).then(function(){e.running(!1)})}}function a(){this.email=n.observable(),this.password=n.observable()}return{viewModel:r,template:e}});
//# sourceMappingURL=../../maps/components/login-page/vm.js.map
