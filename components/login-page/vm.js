"use strict";define(["text!./view.html","knockout","lib/auth","app/data-context-auth"],function(e,t,n,s){function r(){var e=this;this.model=new i,this.message=t.observable(),this.running=t.observable(!1),e.submit=function(t){e.running(!0);var r=s.login(this.email(),this.password());r.then(function(t){n.login(t.access_token,{},t.expires_in),n.transferRedirect(),e.message(null)})["catch"](function(t){try{var n=JSON.parse(t.xhr.responseText);e.message(n.error_description||n.message)}catch(s){e.message("Sorry an error occured, please contact your administrator")}}).then(function(){e.running(!1)})}}function i(){this.email=t.observable(),this.password=t.observable()}return{viewModel:r,template:e}});
//# sourceMappingURL=../../maps/components/login-page/vm.js.map
