"use strict";define(["knockout","knockout-mapping","text!./view.html","app/data-context-blog","lib/auth","lib/url","lib/alerts","lib/knockout-bindings-ext","lib/knockout-bindings-datetime","lib/knockout-bindings-richText"],function(e,n,t,o,i,l,s){function r(){var t=this;t.loaded=e.observable(!1),t.model=e.observable(),t.authenticated=e.observable(i.authenticated()),t.running=e.observable(!1),t.fileBrowser=e.observable(!1),o.blogs.getDefault().done(function(e){t.model(new a(e)),t.loaded(!0)}),t.submit=function(e){t.running(!0),setTimeout(function(){var e=n.toJS(t.model());o.blogs.create(e).then(function(e){l.load(l.resolve("#blog/",e.id)),t.running(!1),s.info("Article successfully saved")})["catch"](function(){console.log("Error occurred",arguments),s.info("There was an saving the article")}).then(function(){t.running(!1)})},100)},t.showFileBrowser=function(){t.fileBrowser(!0)},t.fileBrowserClosed=function(){t.fileBrowser(!1)}}function a(t){n.fromJS(t,{},this),this.cancelLnk="#blogs",this.hasLabels=e.pureComputed(function(){return 0!==this.labels().length}),this.newLabel=e.observable(null)}return a.prototype.addLabel=function(){var e=this.newLabel();e&&(this.labels.push({id:null,value:e.toLowerCase()}),this.newLabel(null))},a.prototype.removeLabel=function(e){this.labels.remove(e)},{viewModel:r,template:t}});
//# sourceMappingURL=../../../maps/components/blog/create-page/vm.js.map
