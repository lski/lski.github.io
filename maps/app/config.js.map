{"version":3,"sources":["app/config.js"],"names":["_typeof","Symbol","iterator","obj","constructor","_settings","scriptTag","document","querySelector","raw","getAttribute","settings","JSON","parse","e","Error","_merge","out","i","arguments","length","key","Object","prototype","hasOwnProperty","call","val","Date","Array","_isIElessThan9","_hasClass","element","className","classList","contains","RegExp","test","ielt9","config","baseUrl","urlArgs","paths","text","underscore","moment","ckeditor","highlight","shim","exports","globals","email","lib/auth","urls","logout","login","lib/url","root","lib/router","routes","url","params","page","components","name","args","require","template","components/blog/edit-page/vm","browserUrl","debug","log","console","apply","vm","mock","map","*","lib/request","app/mock/request","define","window","ko","mapping","crossroads","hasher"],"mappings":"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","file":"app/config.js","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n;(function () {\n\n\t\"use strict\";\n\n\tvar ielt9 = _isIElessThan9(),\n\t    // only use as last resort -> HighlightJS has too many features to feature test against\n\tsettings = _settings(),\n\t    config = {\n\t\tbaseUrl: './',\n\t\turlArgs: 'v=20160305',\n\t\tpaths: {\n\t\t\t'text': 'vendor/text',\n\t\t\t'underscore': 'vendor/underscore',\n\t\t\t'moment': 'vendor/moment.min',\n\t\t\t'ckeditor': 'vendor/ckeditor/ckeditor',\n\t\t\t'highlight': ielt9 ? 'lib/highlight-shim' : 'vendor/ckeditor/plugins/codesnippet/lib/highlight/highlight.pack' // need to check for IE8 and switch\n\t\t},\n\t\tshim: {\n\t\t\t'ckeditor': {\n\t\t\t\texports: 'CKEDITOR'\n\t\t\t},\n\t\t\t'highlight': {\n\t\t\t\texports: 'hljs'\n\t\t\t}\n\t\t},\n\t\tglobals: {\n\t\t\temail: 'lee.cooper@lski.uk'\n\t\t},\n\t\tconfig: _merge({\n\t\t\t'lib/auth': {\n\t\t\t\turls: {\n\t\t\t\t\tlogout: '#logout',\n\t\t\t\t\tlogin: '#login'\n\t\t\t\t}\n\t\t\t\t// auth: <- if one already exists set this via either the hash or the data-app block\n\t\t\t},\n\t\t\t'lib/url': {\n\t\t\t\troot: '/'\n\t\t\t\t//'api' also required\n\t\t\t},\n\t\t\t'lib/router': {\n\t\t\t\troutes: [{ url: '', params: { page: 'home-page' } }, { url: 'contact', params: { page: 'contact-page' } }, { url: 'logout', params: { page: 'logout-page' } }, { url: 'login', params: { page: 'login-page' } }, { url: 'about', params: { page: 'about-page' } }, { url: 'blogs/:label:', params: { page: 'blog-page' } }, { url: 'blog/edit/{id}', params: { page: 'blog-edit-page' } }, { url: 'blog/new', params: { page: 'blog-create-page' } }, { url: 'blog/{id}', params: { page: 'blog-details-page' } }, { url: 'code', params: { page: 'code-page' } }, { url: 'privacy', params: { page: 'privacy-page' } }],\n\t\t\t\tcomponents: [{ name: 'home-page', args: { require: 'components/home-page/vm' } }, { name: 'logout-page', args: { require: 'components/logout-page/vm' } }, { name: 'login-page', args: { require: 'components/login-page/vm' } }, { name: 'contact-page', args: { require: 'components/contact-page/vm' } }, { name: 'about-page', args: { require: 'components/about-page/vm' } }, { name: 'code-page', args: { require: 'components/code/index-page/vm' } }, { name: 'blog-page', args: { require: 'components/blog/index-page/vm' } }, { name: 'blog-hidden-page', args: { require: 'components/blog/hidden-blog-page/vm' } }, { name: 'blog-details-page', args: { require: 'components/blog/details-page/vm' } }, { name: 'blog-edit-page', args: { require: 'components/blog/edit-page/vm' } }, { name: 'blog-create-page', args: { require: 'components/blog/create-page/vm' } }, { name: 'header-nav', args: { require: 'components/shared/header-nav/vm' } }, { name: 'footer-nav', args: { require: 'components/shared/footer-nav/vm' } }, { name: 'summary', args: { template: { require: 'text!components/shared/summary/view.html' } } }, { name: 'quick-links', args: { template: { require: 'text!components/shared/quick-links/view.html' } } }, { name: 'side-bar', args: { require: 'components/shared/side-bar/vm' } }, { name: 'privacy-page', args: { template: { require: 'text!components/privacy/view.html' } } }]\n\t\t\t},\n\t\t\t'components/blog/edit-page/vm': {\n\t\t\t\tbrowserUrl: '/browser/index.htm'\n\t\t\t}\n\t\t}, settings)\n\t};\n\n\tif (settings.debug) {\n\n\t\tif (settings.debug.log) {\n\t\t\tconfig.config['lib/router'].log = function () {\n\t\t\t\tconsole.log.apply(console, arguments);\n\t\t\t};\n\t\t}\n\n\t\tif (settings.debug.vm) {\n\t\t\t// Show output of knockout objects\n\t\t\trequire(['lib/knockout-bindings-debug']);\n\t\t}\n\n\t\tif (settings.debug.mock) {\n\n\t\t\t// Override the request module with a proxy\n\t\t\tconfig.map = {\n\t\t\t\t'*': {\n\t\t\t\t\t'lib/request': 'app/mock/request'\n\t\t\t\t},\n\t\t\t\t'app/mock/request': {\n\t\t\t\t\t'lib/request': 'lib/request'\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\t// Setup up require\n\trequire.config(config);\n\n\t// As preloaded in a minified infrastructure file, fill in the dependancies already available\n\tdefine('root', [], function () {\n\t\treturn window;\n\t});\n\tdefine('knockout', [], function () {\n\t\treturn ko;\n\t});\n\tdefine('knockout-mapping', ['knockout'], function () {\n\t\treturn ko.mapping;\n\t});\n\tdefine('lib/knockout-bindings-ext', [], function () {\n\t\treturn;\n\t});\n\tdefine('crossroads', [], function () {\n\t\treturn crossroads;\n\t});\n\tdefine('hasher', [], function () {\n\t\treturn hasher;\n\t});\n\tdefine('globals', [], function () {\n\t\treturn config.globals;\n\t});\n\n\t// Start the application\n\trequire(['lib/router']);\n\n\t/**\r\n * Gets the provided basic settings for this application from the view\r\n */\n\tfunction _settings() {\n\n\t\ttry {\n\n\t\t\t// Check to see if any settings have come from the server\n\t\t\tvar scriptTag = document.querySelector('script[data-app]'),\n\t\t\t    raw = scriptTag && scriptTag.getAttribute('data-app'),\n\t\t\t    settings = raw && JSON.parse(raw) || {};\n\n\t\t\treturn settings;\n\t\t} catch (e) {\n\n\t\t\tthrow new Error('There was an error extracting the settings for the application');\n\t\t}\n\t}\n\n\t/**\r\n  * Deep merge of objects\r\n  */\n\tfunction _merge(out) {\n\n\t\tout = out || {};\n\n\t\tfor (var i = 1; i < arguments.length; i++) {\n\n\t\t\tvar obj = arguments[i];\n\n\t\t\tif (!obj) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tfor (var key in obj) {\n\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\n\t\t\t\t\tvar val = obj[key];\n\n\t\t\t\t\tif (val !== null && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' && !(val instanceof Date) && !(val instanceof Array)) {\n\n\t\t\t\t\t\tout[key] = _merge(out[key], val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tout[key] = val;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn out;\n\t}\n\n\t/**\r\n  * Should only be used with a specific library that cant run on a specific browser where feature detection isnt possible.\r\n  */\n\tfunction _isIElessThan9() {\n\n\t\treturn _hasClass(document.querySelector('html'), 'ielt9');\n\t}\n\n\t/**\r\n  * Simply states whether an element has a class on it\r\n  */\n\tfunction _hasClass(element, className) {\n\n\t\tif (element.classList) {\n\t\t\treturn element.classList.contains(className);\n\t\t} else {\n\t\t\treturn new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n\t\t}\n\t}\n})();"],"sourceRoot":"/source/"}