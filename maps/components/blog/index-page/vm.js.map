{"version":3,"sources":["components/blog/index-page/vm.js"],"names":["define","ko","template","ctx","auth","ViewModel","params","showHiddenBlogs","authenticated","self","this","label","createLink","observable","blogs","observableArray","loading","error","hasBlogs","pureComputed","length","getSummaries","then","err","console","log","viewModel"],"mappings":"AAAA,YAEAA,SAAQ,WAAY,mBAAoB,wBAAyB,WAAY,kCAAmC,SAAUC,EAAIC,EAAUC,EAAKC,GAIzI,QAASC,GAAUC,GAEf,GAAIC,GAAkBH,EAAKI,gBACvBC,EAAOC,IAEXD,GAAKE,MAAQL,EAAOK,OAAS,KAC7BF,EAAKG,WAAa,aAClBH,EAAKD,cAAgBP,EAAGY,WAAWT,EAAKI,iBACxCC,EAAKK,MAAQb,EAAGc,oBAChBN,EAAKO,QAAUf,EAAGY,YAAW,GAC7BJ,EAAKQ,MAAQhB,EAAGY,YAAW,GAC3BJ,EAAKS,SAAWjB,EAAGkB,aAAa,WAE5B,MAAOT,MAAKI,QAAQM,OAAS,GAC9BV,MAEHP,EAAIW,MAAMO,aAAaZ,EAAKE,MAAO,GAAI,EAAGJ,GAAiBe,KAAKb,EAAKK,MAAO,SAAUS,GAElFd,EAAKQ,OAAM,GACXO,QAAQC,IAAI,2CAA4CF,KACzDD,KAAK,WAEJb,EAAKO,SAAQ,KAIrB,OACIU,UAAWrB,EACXH,SAAUA","file":"../../../../components/blog/index-page/vm.js","sourcesContent":["'use strict';\n\ndefine(['knockout', 'text!./view.html', 'app/data-context-blog', 'lib/auth', 'lib/knockout-bindings-datetime'], function (ko, template, ctx, auth) {\n\n    \"use strict\";\n\n    function ViewModel(params) {\n\n        var showHiddenBlogs = auth.authenticated();\n        var self = this;\n\n        self.label = params.label || null;\n        self.createLink = '/#blog/new';\n        self.authenticated = ko.observable(auth.authenticated());\n        self.blogs = ko.observableArray([]);\n        self.loading = ko.observable(true);\n        self.error = ko.observable(false);\n        self.hasBlogs = ko.pureComputed(function () {\n\n            return this.blogs().length > 0;\n        }, this);\n\n        ctx.blogs.getSummaries(self.label, 50, 0, showHiddenBlogs).then(self.blogs, function (err) {\n\n            self.error(true);\n            console.log('Error occured trying to get the articles', err);\n        }).then(function () {\n\n            self.loading(false);\n        });\n    }\n\n    return {\n        viewModel: ViewModel,\n        template: template\n    };\n});"]}