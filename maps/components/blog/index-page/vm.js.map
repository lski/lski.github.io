{"version":3,"sources":["components/blog/index-page/vm.js"],"names":["factory","define","ko","template","ctx","auth","_","ViewModel","params","showHiddenBlogs","authenticated","self","this","label","createLink","observable","blogs","observableArray","loading","error","hasBlogs","pureComputed","length","getSummaries","then","err","console","log","viewModel"],"mappings":"AAAA,cAEA,SAAWA,GAIe,kBAAXC,SAAyBA,OAAY,KAC5CA,QAAQ,WAAY,mBAAoB,wBAAyB,WAAY,aAAc,kCAAmCD,IAEnI,SAAUE,EAAIC,EAAUC,EAAKC,EAAMC,GAIlC,QAASC,GAAUC,GAEf,GAAIC,GAAkBJ,EAAKK,gBACvBC,EAAOC,IAEXD,GAAKE,MAAQL,EAAOK,OAAS,KAC7BF,EAAKG,WAAa,aAClBH,EAAKD,cAAgBR,EAAGa,WAAWV,EAAKK,iBACxCC,EAAKK,MAAQd,EAAGe,oBAChBN,EAAKO,QAAUhB,EAAGa,YAAW,GAC7BJ,EAAKQ,MAAQjB,EAAGa,YAAW,GAC3BJ,EAAKS,SAAWlB,EAAGmB,aAAa,WAE5B,MAAOT,MAAKI,QAAQM,OAAS,GAC9BV,MAEHR,EAAIY,MAAMO,aAAaZ,EAAKE,MAAO,GAAI,EAAGJ,GAAiBe,KAAKb,EAAKK,MAAO,SAAUS,GAElFd,EAAKQ,OAAM,GACXO,QAAQC,IAAI,2CAA4CF,KACzDD,KAAK,WAEJb,EAAKO,SAAQ,KAIrB,OACIU,UAAWrB,EACXJ,SAAUA","file":"components/blog/index-page/vm.js","sourcesContent":["'use strict';\n\n(function (factory) {\n\n    \"use strict\";\n\n    if (typeof define === 'function' && define['amd']) {\n        define(['knockout', 'text!./view.html', 'app/data-context-blog', 'lib/auth', 'underscore', 'lib/knockout-bindings-datetime'], factory);\n    }\n})(function (ko, template, ctx, auth, _) {\n\n    \"use strict\";\n\n    function ViewModel(params) {\n\n        var showHiddenBlogs = auth.authenticated();\n        var self = this;\n\n        self.label = params.label || null;\n        self.createLink = '/#blog/new';\n        self.authenticated = ko.observable(auth.authenticated());\n        self.blogs = ko.observableArray([]);\n        self.loading = ko.observable(true);\n        self.error = ko.observable(false);\n        self.hasBlogs = ko.pureComputed(function () {\n\n            return this.blogs().length > 0;\n        }, this);\n\n        ctx.blogs.getSummaries(self.label, 50, 0, showHiddenBlogs).then(self.blogs, function (err) {\n\n            self.error(true);\n            console.log('Error occured trying to get the articles', err);\n        }).then(function () {\n\n            self.loading(false);\n        });\n    }\n\n    return {\n        viewModel: ViewModel,\n        template: template\n    };\n});"],"sourceRoot":"/source/"}