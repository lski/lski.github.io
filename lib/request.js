"use strict";define(["vendor/lski-request","lib/auth","lib/alerts"],function(e,r,t){var n=e.send;return e.utils.merge(e,{options:{rejectOnStatusCode:!0,dataOnly:!0,headers:{Authorization:function(){var e=r.token();if(null!==e)return"Bearer "+e}},error:function(e){if(401===e.status)t.warning("You are no longer logged in, redirecting you to the login page"),setTimeout(r.loginRedirect,1e3);else try{t.error(JSON.parse(e.response.responseText).message)}catch(n){t.error(e.message||"Sorry an error occured, please try again")}}},send:function(){var e=n.apply(this,arguments);return arguments[3]&&"function"==typeof arguments[3].error&&e["catch"](arguments[3].error),e}})});
//# sourceMappingURL=../maps/lib/request.js.map
