"use strict";!function(e){"function"==typeof define&&define.amd&&define(["lib/request","lib/url","underscore","lib/auth"],e)}(function(e,t,i,n){function r(e){return"#blog/"+e}function u(e){return"#blog/edit/"+e}function o(e){var t=n.authenticated();return e.hasBeenUpdated=e.modified!=e.created,e.hasLabels=!!e.labels,e.viewLink=r(e.id),t&&(e.editLink=u(e.id)),e}function a(o){return e.get(t.resolveApi(o)).then(function(e){var t=n.authenticated();return i(e).map(function(e){var i={id:e.id,title:e.title,body:e.summary?e.summary+"...":"",viewLink:r(e.id),displayDate:e.modified!=e.created?e.modified:e.created,showInResults:e.showInResults};return t&&(i.editLink=u(e.id)),i})})}console.log("app/data-context");var d={getSummaries:function(e,t,i,n){var r=["/api/blog/summary?size=",t||20,"&page=",i||0];return e&&r.push("&label=",e),n&&r.push("&hidden=true"),a(r.join(""))},getById:function(i){return e.get(t.resolveApi("/api/blog/",i)).then(o)},getDefault:function(){return e.get(t.resolveApi("/api/blog/default"))},update:function(i){return e.put(t.resolveApi("/api/blog/",i.id),i)},updateListed:function(i,n){return e.put(t.resolveApi("/api/blog/",i,"/listed"),{id:i,listed:n})},create:function(i){return e.post(t.resolveApi("/api/blog"),i)}};return{blogs:d}});
//# sourceMappingURL=../maps/app/data-context-blog.js.map
